"use strict";(this.webpackChunk_msteams_react_web_client=this.webpackChunk_msteams_react_web_client||[]).push([[125442],{762222:(Fe,j,z)=>{z.d(j,{UE:()=>mt,rD:()=>gt,__:()=>dt,UU:()=>qe,jD:()=>Ts,ER:()=>Ot,cY:()=>Jt,BN:()=>Zt,Ej:()=>ws});const S=["top","right","bottom","left"],te=null,ie=null,k=Math.min,x=Math.max,B=Math.round,$=Math.floor,X=c=>({x:c,y:c}),ne={left:"right",right:"left",bottom:"top",top:"bottom"},U={start:"end",end:"start"};function Y(c,d,m){return x(c,k(d,m))}function Z(c,d){return typeof c=="function"?c(d):c}function Q(c){return c.split("-")[0]}function ue(c){return c.split("-")[1]}function pe(c){return c==="x"?"y":"x"}function be(c){return c==="y"?"height":"width"}function V(c){return["top","bottom"].includes(Q(c))?"y":"x"}function O(c){return pe(V(c))}function T(c,d,m){m===void 0&&(m=!1);const g=ue(c),v=O(c),b=be(v);let E=v==="x"?g===(m?"end":"start")?"right":"left":g==="start"?"bottom":"top";return d.reference[b]>d.floating[b]&&(E=Re(E)),[E,Re(E)]}function P(c){const d=Re(c);return[q(c),d,q(d)]}function q(c){return c.replace(/start|end/g,d=>U[d])}function fe(c,d,m){const g=["left","right"],v=["right","left"],b=["top","bottom"],E=["bottom","top"];switch(c){case"top":case"bottom":return m?d?v:g:d?g:v;case"left":case"right":return d?b:E;default:return[]}}function Me(c,d,m,g){const v=ue(c);let b=fe(Q(c),m==="start",g);return v&&(b=b.map(E=>E+"-"+v),d&&(b=b.concat(b.map(q)))),b}function Re(c){return c.replace(/left|right|bottom|top/g,d=>ne[d])}function xe(c){return{top:0,right:0,bottom:0,left:0,...c}}function lt(c){return typeof c!="number"?xe(c):{top:c,right:c,bottom:c,left:c}}function Qe(c){const{x:d,y:m,width:g,height:v}=c;return{width:g,height:v,top:m,left:d,right:d+g,bottom:m+v,x:d,y:m}}function Pe(c,d,m){let{reference:g,floating:v}=c;const b=V(d),E=O(d),D=be(E),W=Q(d),M=b==="y",G=g.x+g.width/2-v.width/2,L=g.y+g.height/2-v.height/2,J=g[D]/2-v[D]/2;let K;switch(W){case"top":K={x:G,y:g.y-v.height};break;case"bottom":K={x:G,y:g.y+g.height};break;case"right":K={x:g.x+g.width,y:L};break;case"left":K={x:g.x-v.width,y:L};break;default:K={x:g.x,y:g.y}}switch(ue(d)){case"start":K[E]-=J*(m&&M?-1:1);break;case"end":K[E]+=J*(m&&M?-1:1);break}return K}const H=async(c,d,m)=>{const{placement:g="bottom",strategy:v="absolute",middleware:b=[],platform:E}=m,D=b.filter(Boolean),W=await(E.isRTL==null?void 0:E.isRTL(d));let M=await E.getElementRects({reference:c,floating:d,strategy:v}),{x:G,y:L}=Pe(M,g,W),J=g,K={},se=0;for(let le=0;le<D.length;le++){const{name:A,fn:ae}=D[le],{x:de,y:he,data:ye,reset:ge}=await ae({x:G,y:L,initialPlacement:g,placement:J,strategy:v,middlewareData:K,rects:M,platform:E,elements:{reference:c,floating:d}});G=de??G,L=he??L,K={...K,[A]:{...K[A],...ye}},ge&&se<=50&&(se++,typeof ge=="object"&&(ge.placement&&(J=ge.placement),ge.rects&&(M=ge.rects===!0?await E.getElementRects({reference:c,floating:d,strategy:v}):ge.rects),{x:G,y:L}=Pe(M,J,W)),le=-1)}return{x:G,y:L,placement:J,strategy:v,middlewareData:K}};async function we(c,d){var m;d===void 0&&(d={});const{x:g,y:v,platform:b,rects:E,elements:D,strategy:W}=c,{boundary:M="clippingAncestors",rootBoundary:G="viewport",elementContext:L="floating",altBoundary:J=!1,padding:K=0}=Z(d,c),se=lt(K),A=D[J?L==="floating"?"reference":"floating":L],ae=Qe(await b.getClippingRect({element:(m=await(b.isElement==null?void 0:b.isElement(A)))==null||m?A:A.contextElement||await(b.getDocumentElement==null?void 0:b.getDocumentElement(D.floating)),boundary:M,rootBoundary:G,strategy:W})),de=L==="floating"?{x:g,y:v,width:E.floating.width,height:E.floating.height}:E.reference,he=await(b.getOffsetParent==null?void 0:b.getOffsetParent(D.floating)),ye=await(b.isElement==null?void 0:b.isElement(he))?await(b.getScale==null?void 0:b.getScale(he))||{x:1,y:1}:{x:1,y:1},ge=Qe(b.convertOffsetParentRelativeRectToViewportRelativeRect?await b.convertOffsetParentRelativeRectToViewportRelativeRect({elements:D,rect:de,offsetParent:he,strategy:W}):de);return{top:(ae.top-ge.top+se.top)/ye.y,bottom:(ge.bottom-ae.bottom+se.bottom)/ye.y,left:(ae.left-ge.left+se.left)/ye.x,right:(ge.right-ae.right+se.right)/ye.x}}const it=c=>({name:"arrow",options:c,async fn(d){const{x:m,y:g,placement:v,rects:b,platform:E,elements:D,middlewareData:W}=d,{element:M,padding:G=0}=Z(c,d)||{};if(M==null)return{};const L=lt(G),J={x:m,y:g},K=O(v),se=be(K),le=await E.getDimensions(M),A=K==="y",ae=A?"top":"left",de=A?"bottom":"right",he=A?"clientHeight":"clientWidth",ye=b.reference[se]+b.reference[K]-J[K]-b.floating[se],ge=J[K]-b.reference[K],Ce=await(E.getOffsetParent==null?void 0:E.getOffsetParent(M));let Oe=Ce?Ce[he]:0;(!Oe||!await(E.isElement==null?void 0:E.isElement(Ce)))&&(Oe=D.floating[he]||b.floating[se]);const He=ye/2-ge/2,Ue=Oe/2-le[se]/2-1,ve=k(L[ae],Ue),Ee=k(L[de],Ue),Ae=ve,ze=Oe-le[se]-Ee,Se=Oe/2-le[se]/2+He,Ie=Y(Ae,Se,ze),Te=!W.arrow&&ue(v)!=null&&Se!==Ie&&b.reference[se]/2-(Se<Ae?ve:Ee)-le[se]/2<0,Ye=Te?Se<Ae?Se-Ae:Se-ze:0;return{[K]:J[K]+Ye,data:{[K]:Ie,centerOffset:Se-Ie-Ye,...Te&&{alignmentOffset:Ye}},reset:Te}}});function $e(c,d,m){return(c?[...m.filter(v=>getAlignment(v)===c),...m.filter(v=>getAlignment(v)!==c)]:m.filter(v=>getSide(v)===v)).filter(v=>c?getAlignment(v)===c||(d?getOppositeAlignmentPlacement(v)!==v:!1):!0)}const Xe=function(c){return c===void 0&&(c={}),{name:"autoPlacement",options:c,async fn(d){var m,g,v;const{rects:b,middlewareData:E,placement:D,platform:W,elements:M}=d,{crossAxis:G=!1,alignment:L,allowedPlacements:J=placements,autoAlignment:K=!0,...se}=evaluate(c,d),le=L!==void 0||J===placements?$e(L||null,K,J):J,A=await we(d,se),ae=((m=E.autoPlacement)==null?void 0:m.index)||0,de=le[ae];if(de==null)return{};const he=getAlignmentSides(de,b,await(W.isRTL==null?void 0:W.isRTL(M.floating)));if(D!==de)return{reset:{placement:le[0]}};const ye=[A[getSide(de)],A[he[0]],A[he[1]]],ge=[...((g=E.autoPlacement)==null?void 0:g.overflows)||[],{placement:de,overflows:ye}],Ce=le[ae+1];if(Ce)return{data:{index:ae+1,overflows:ge},reset:{placement:Ce}};const Oe=ge.map(ve=>{const Ee=getAlignment(ve.placement);return[ve.placement,Ee&&G?ve.overflows.slice(0,2).reduce((Ae,ze)=>Ae+ze,0):ve.overflows[0],ve.overflows]}).sort((ve,Ee)=>ve[1]-Ee[1]),Ue=((v=Oe.filter(ve=>ve[2].slice(0,getAlignment(ve[0])?2:3).every(Ee=>Ee<=0))[0])==null?void 0:v[0])||Oe[0][0];return Ue!==D?{data:{index:ae+1,overflows:ge},reset:{placement:Ue}}:{}}}},vt=function(c){return c===void 0&&(c={}),{name:"flip",options:c,async fn(d){var m,g;const{placement:v,middlewareData:b,rects:E,initialPlacement:D,platform:W,elements:M}=d,{mainAxis:G=!0,crossAxis:L=!0,fallbackPlacements:J,fallbackStrategy:K="bestFit",fallbackAxisSideDirection:se="none",flipAlignment:le=!0,...A}=Z(c,d);if((m=b.arrow)!=null&&m.alignmentOffset)return{};const ae=Q(v),de=V(D),he=Q(D)===D,ye=await(W.isRTL==null?void 0:W.isRTL(M.floating)),ge=J||(he||!le?[Re(D)]:P(D)),Ce=se!=="none";!J&&Ce&&ge.push(...Me(D,le,se,ye));const Oe=[D,...ge],He=await we(d,A),Ue=[];let ve=((g=b.flip)==null?void 0:g.overflows)||[];if(G&&Ue.push(He[ae]),L){const Se=T(v,E,ye);Ue.push(He[Se[0]],He[Se[1]])}if(ve=[...ve,{placement:v,overflows:Ue}],!Ue.every(Se=>Se<=0)){var Ee,Ae;const Se=(((Ee=b.flip)==null?void 0:Ee.index)||0)+1,Ie=Oe[Se];if(Ie)return{data:{index:Se,overflows:ve},reset:{placement:Ie}};let Te=(Ae=ve.filter(Ye=>Ye.overflows[0]<=0).sort((Ye,st)=>Ye.overflows[1]-st.overflows[1])[0])==null?void 0:Ae.placement;if(!Te)switch(K){case"bestFit":{var ze;const Ye=(ze=ve.filter(st=>{if(Ce){const Ve=V(st.placement);return Ve===de||Ve==="y"}return!0}).map(st=>[st.placement,st.overflows.filter(Ve=>Ve>0).reduce((Ve,es)=>Ve+es,0)]).sort((st,Ve)=>st[1]-Ve[1])[0])==null?void 0:ze[0];Ye&&(Te=Ye);break}case"initialPlacement":Te=D;break}if(v!==Te)return{reset:{placement:Te}}}return{}}}};function Tt(c,d){return{top:c.top-d.height,right:c.right-d.width,bottom:c.bottom-d.height,left:c.left-d.width}}function Ke(c){return S.some(d=>c[d]>=0)}const ls=function(c){return c===void 0&&(c={}),{name:"hide",options:c,async fn(d){const{rects:m}=d,{strategy:g="referenceHidden",...v}=Z(c,d);switch(g){case"referenceHidden":{const b=await we(d,{...v,elementContext:"reference"}),E=Tt(b,m.reference);return{data:{referenceHiddenOffsets:E,referenceHidden:Ke(E)}}}case"escaped":{const b=await we(d,{...v,altBoundary:!0}),E=Tt(b,m.floating);return{data:{escapedOffsets:E,escaped:Ke(E)}}}default:return{}}}}};function Ut(c){const d=min(...c.map(b=>b.left)),m=min(...c.map(b=>b.top)),g=max(...c.map(b=>b.right)),v=max(...c.map(b=>b.bottom));return{x:d,y:m,width:g-d,height:v-m}}function Je(c){const d=c.slice().sort((v,b)=>v.y-b.y),m=[];let g=null;for(let v=0;v<d.length;v++){const b=d[v];!g||b.y-g.y>g.height/2?m.push([b]):m[m.length-1].push(b),g=b}return m.map(v=>rectToClientRect(Ut(v)))}const as=function(c){return c===void 0&&(c={}),{name:"inline",options:c,async fn(d){const{placement:m,elements:g,rects:v,platform:b,strategy:E}=d,{padding:D=2,x:W,y:M}=evaluate(c,d),G=Array.from(await(b.getClientRects==null?void 0:b.getClientRects(g.reference))||[]),L=Je(G),J=rectToClientRect(Ut(G)),K=getPaddingObject(D);function se(){if(L.length===2&&L[0].left>L[1].right&&W!=null&&M!=null)return L.find(A=>W>A.left-K.left&&W<A.right+K.right&&M>A.top-K.top&&M<A.bottom+K.bottom)||J;if(L.length>=2){if(getSideAxis(m)==="y"){const ve=L[0],Ee=L[L.length-1],Ae=getSide(m)==="top",ze=ve.top,Se=Ee.bottom,Ie=Ae?ve.left:Ee.left,Te=Ae?ve.right:Ee.right,Ye=Te-Ie,st=Se-ze;return{top:ze,bottom:Se,left:Ie,right:Te,width:Ye,height:st,x:Ie,y:ze}}const A=getSide(m)==="left",ae=max(...L.map(ve=>ve.right)),de=min(...L.map(ve=>ve.left)),he=L.filter(ve=>A?ve.left===de:ve.right===ae),ye=he[0].top,ge=he[he.length-1].bottom,Ce=de,Oe=ae,He=Oe-Ce,Ue=ge-ye;return{top:ye,bottom:ge,left:Ce,right:Oe,width:He,height:Ue,x:Ce,y:ye}}return J}const le=await b.getElementRects({reference:{getBoundingClientRect:se},floating:g.floating,strategy:E});return v.reference.x!==le.reference.x||v.reference.y!==le.reference.y||v.reference.width!==le.reference.width||v.reference.height!==le.reference.height?{reset:{rects:le}}:{}}}};async function Bt(c,d){const{placement:m,platform:g,elements:v}=c,b=await(g.isRTL==null?void 0:g.isRTL(v.floating)),E=Q(m),D=ue(m),W=V(m)==="y",M=["left","top"].includes(E)?-1:1,G=b&&W?-1:1,L=Z(d,c);let{mainAxis:J,crossAxis:K,alignmentAxis:se}=typeof L=="number"?{mainAxis:L,crossAxis:0,alignmentAxis:null}:{mainAxis:L.mainAxis||0,crossAxis:L.crossAxis||0,alignmentAxis:L.alignmentAxis};return D&&typeof se=="number"&&(K=D==="end"?se*-1:se),W?{x:K*G,y:J*M}:{x:J*M,y:K*G}}const cs=function(c){return c===void 0&&(c=0),{name:"offset",options:c,async fn(d){var m,g;const{x:v,y:b,placement:E,middlewareData:D}=d,W=await Bt(d,c);return E===((m=D.offset)==null?void 0:m.placement)&&(g=D.arrow)!=null&&g.alignmentOffset?{}:{x:v+W.x,y:b+W.y,data:{...W,placement:E}}}}},zt=function(c){return c===void 0&&(c={}),{name:"shift",options:c,async fn(d){const{x:m,y:g,placement:v}=d,{mainAxis:b=!0,crossAxis:E=!1,limiter:D={fn:A=>{let{x:ae,y:de}=A;return{x:ae,y:de}}},...W}=Z(c,d),M={x:m,y:g},G=await we(d,W),L=V(Q(v)),J=pe(L);let K=M[J],se=M[L];if(b){const A=J==="y"?"top":"left",ae=J==="y"?"bottom":"right",de=K+G[A],he=K-G[ae];K=Y(de,K,he)}if(E){const A=L==="y"?"top":"left",ae=L==="y"?"bottom":"right",de=se+G[A],he=se-G[ae];se=Y(de,se,he)}const le=D.fn({...d,[J]:K,[L]:se});return{...le,data:{x:le.x-m,y:le.y-g,enabled:{[J]:b,[L]:E}}}}}},us=function(c){return c===void 0&&(c={}),{options:c,fn(d){const{x:m,y:g,placement:v,rects:b,middlewareData:E}=d,{offset:D=0,mainAxis:W=!0,crossAxis:M=!0}=Z(c,d),G={x:m,y:g},L=V(v),J=pe(L);let K=G[J],se=G[L];const le=Z(D,d),A=typeof le=="number"?{mainAxis:le,crossAxis:0}:{mainAxis:0,crossAxis:0,...le};if(W){const he=J==="y"?"height":"width",ye=b.reference[J]-b.floating[he]+A.mainAxis,ge=b.reference[J]+b.reference[he]-A.mainAxis;K<ye?K=ye:K>ge&&(K=ge)}if(M){var ae,de;const he=J==="y"?"width":"height",ye=["top","left"].includes(Q(v)),ge=b.reference[L]-b.floating[he]+(ye&&((ae=E.offset)==null?void 0:ae[L])||0)+(ye?0:A.crossAxis),Ce=b.reference[L]+b.reference[he]+(ye?0:((de=E.offset)==null?void 0:de[L])||0)-(ye?A.crossAxis:0);se<ge?se=ge:se>Ce&&(se=Ce)}return{[J]:K,[L]:se}}}},ds=function(c){return c===void 0&&(c={}),{name:"size",options:c,async fn(d){var m,g;const{placement:v,rects:b,platform:E,elements:D}=d,{apply:W=()=>{},...M}=Z(c,d),G=await we(d,M),L=Q(v),J=ue(v),K=V(v)==="y",{width:se,height:le}=b.floating;let A,ae;L==="top"||L==="bottom"?(A=L,ae=J===(await(E.isRTL==null?void 0:E.isRTL(D.floating))?"start":"end")?"left":"right"):(ae=L,A=J==="end"?"top":"bottom");const de=le-G.top-G.bottom,he=se-G.left-G.right,ye=k(le-G[A],de),ge=k(se-G[ae],he),Ce=!d.middlewareData.shift;let Oe=ye,He=ge;if((m=d.middlewareData.shift)!=null&&m.enabled.x&&(He=he),(g=d.middlewareData.shift)!=null&&g.enabled.y&&(Oe=de),Ce&&!J){const ve=x(G.left,0),Ee=x(G.right,0),Ae=x(G.top,0),ze=x(G.bottom,0);K?He=se-2*(ve!==0||Ee!==0?ve+Ee:x(G.left,G.right)):Oe=le-2*(Ae!==0||ze!==0?Ae+ze:x(G.top,G.bottom))}await W({...d,availableWidth:He,availableHeight:Oe});const Ue=await E.getDimensions(D.floating);return se!==Ue.width||le!==Ue.height?{reset:{rects:!0}}:{}}}};function Ft(){return typeof window<"u"}function pt(c){return Kt(c)?(c.nodeName||"").toLowerCase():"#document"}function Be(c){var d;return(c==null||(d=c.ownerDocument)==null?void 0:d.defaultView)||window}function nt(c){var d;return(d=(Kt(c)?c.ownerDocument:c.document)||window.document)==null?void 0:d.documentElement}function Kt(c){return Ft()?c instanceof Node||c instanceof Be(c).Node:!1}function Ze(c){return Ft()?c instanceof Element||c instanceof Be(c).Element:!1}function ot(c){return Ft()?c instanceof HTMLElement||c instanceof Be(c).HTMLElement:!1}function fs(c){return!Ft()||typeof ShadowRoot>"u"?!1:c instanceof ShadowRoot||c instanceof Be(c).ShadowRoot}function Ct(c){const{overflow:d,overflowX:m,overflowY:g,display:v}=et(c);return/auto|scroll|overlay|hidden|clip/.test(d+g+m)&&!["inline","contents"].includes(v)}function zs(c){return["table","td","th"].includes(pt(c))}function Rt(c){return[":popover-open",":modal"].some(d=>{try{return c.matches(d)}catch{return!1}})}function Ht(c){const d=Vt(),m=Ze(c)?et(c):c;return["transform","translate","scale","rotate","perspective"].some(g=>m[g]?m[g]!=="none":!1)||(m.containerType?m.containerType!=="normal":!1)||!d&&(m.backdropFilter?m.backdropFilter!=="none":!1)||!d&&(m.filter?m.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(g=>(m.willChange||"").includes(g))||["paint","layout","strict","content"].some(g=>(m.contain||"").includes(g))}function Ks(c){let d=at(c);for(;ot(d)&&!bt(d);){if(Ht(d))return d;if(Rt(d))return null;d=at(d)}return null}function Vt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bt(c){return["html","body","#document"].includes(pt(c))}function et(c){return Be(c).getComputedStyle(c)}function Nt(c){return Ze(c)?{scrollLeft:c.scrollLeft,scrollTop:c.scrollTop}:{scrollLeft:c.scrollX,scrollTop:c.scrollY}}function at(c){if(pt(c)==="html")return c;const d=c.assignedSlot||c.parentNode||fs(c)&&c.host||nt(c);return fs(d)?d.host:d}function hs(c){const d=at(c);return bt(d)?c.ownerDocument?c.ownerDocument.body:c.body:ot(d)&&Ct(d)?d:hs(d)}function jt(c,d,m){var g;d===void 0&&(d=[]),m===void 0&&(m=!0);const v=hs(c),b=v===((g=c.ownerDocument)==null?void 0:g.body),E=Be(v);if(b){const D=Gt(E);return d.concat(E,E.visualViewport||[],Ct(v)?v:[],D&&m?jt(D):[])}return d.concat(v,jt(v,[],m))}function Gt(c){return c.parent&&Object.getPrototypeOf(c.parent)?c.frameElement:null}function _s(c){const d=et(c);let m=parseFloat(d.width)||0,g=parseFloat(d.height)||0;const v=ot(c),b=v?c.offsetWidth:m,E=v?c.offsetHeight:g,D=B(m)!==b||B(g)!==E;return D&&(m=b,g=E),{width:m,height:g,$:D}}function $t(c){return Ze(c)?c:c.contextElement}function yt(c){const d=$t(c);if(!ot(d))return X(1);const m=d.getBoundingClientRect(),{width:g,height:v,$:b}=_s(d);let E=(b?B(m.width):m.width)/g,D=(b?B(m.height):m.height)/v;return(!E||!Number.isFinite(E))&&(E=1),(!D||!Number.isFinite(D))&&(D=1),{x:E,y:D}}const Hs=X(0);function ms(c){const d=Be(c);return!Vt()||!d.visualViewport?Hs:{x:d.visualViewport.offsetLeft,y:d.visualViewport.offsetTop}}function w(c,d,m){return d===void 0&&(d=!1),!m||d&&m!==Be(c)?!1:d}function ct(c,d,m,g){d===void 0&&(d=!1),m===void 0&&(m=!1);const v=c.getBoundingClientRect(),b=$t(c);let E=X(1);d&&(g?Ze(g)&&(E=yt(g)):E=yt(c));const D=w(b,m,g)?ms(b):X(0);let W=(v.left+D.x)/E.x,M=(v.top+D.y)/E.y,G=v.width/E.x,L=v.height/E.y;if(b){const J=Be(b),K=g&&Ze(g)?Be(g):g;let se=J,le=Gt(se);for(;le&&g&&K!==se;){const A=yt(le),ae=le.getBoundingClientRect(),de=et(le),he=ae.left+(le.clientLeft+parseFloat(de.paddingLeft))*A.x,ye=ae.top+(le.clientTop+parseFloat(de.paddingTop))*A.y;W*=A.x,M*=A.y,G*=A.x,L*=A.y,W+=he,M+=ye,se=Be(le),le=Gt(se)}}return Qe({width:G,height:L,x:W,y:M})}function Et(c,d){const m=Nt(c).scrollLeft;return d?d.left+m:ct(nt(c)).left+m}function Dt(c,d,m){m===void 0&&(m=!1);const g=c.getBoundingClientRect(),v=g.left+d.scrollLeft-(m?0:Et(c,g)),b=g.top+d.scrollTop;return{x:v,y:b}}function gs(c){let{elements:d,rect:m,offsetParent:g,strategy:v}=c;const b=v==="fixed",E=nt(g),D=d?Rt(d.floating):!1;if(g===E||D&&b)return m;let W={scrollLeft:0,scrollTop:0},M=X(1);const G=X(0),L=ot(g);if((L||!L&&!b)&&((pt(g)!=="body"||Ct(E))&&(W=Nt(g)),ot(g))){const K=ct(g);M=yt(g),G.x=K.x+g.clientLeft,G.y=K.y+g.clientTop}const J=E&&!L&&!b?Dt(E,W,!0):X(0);return{width:m.width*M.x,height:m.height*M.y,x:m.x*M.x-W.scrollLeft*M.x+G.x+J.x,y:m.y*M.y-W.scrollTop*M.y+G.y+J.y}}function xt(c){return Array.from(c.getClientRects())}function tt(c){const d=nt(c),m=Nt(c),g=c.ownerDocument.body,v=x(d.scrollWidth,d.clientWidth,g.scrollWidth,g.clientWidth),b=x(d.scrollHeight,d.clientHeight,g.scrollHeight,g.clientHeight);let E=-m.scrollLeft+Et(c);const D=-m.scrollTop;return et(g).direction==="rtl"&&(E+=x(d.clientWidth,g.clientWidth)-v),{width:v,height:b,x:E,y:D}}function vs(c,d){const m=Be(c),g=nt(c),v=m.visualViewport;let b=g.clientWidth,E=g.clientHeight,D=0,W=0;if(v){b=v.width,E=v.height;const M=Vt();(!M||M&&d==="fixed")&&(D=v.offsetLeft,W=v.offsetTop)}return{width:b,height:E,x:D,y:W}}function ps(c,d){const m=ct(c,!0,d==="fixed"),g=m.top+c.clientTop,v=m.left+c.clientLeft,b=ot(c)?yt(c):X(1),E=c.clientWidth*b.x,D=c.clientHeight*b.y,W=v*b.x,M=g*b.y;return{width:E,height:D,x:W,y:M}}function qt(c,d,m){let g;if(d==="viewport")g=vs(c,m);else if(d==="document")g=tt(nt(c));else if(Ze(d))g=ps(d,m);else{const v=ms(c);g={x:d.x-v.x,y:d.y-v.y,width:d.width,height:d.height}}return Qe(g)}function At(c,d){const m=at(c);return m===d||!Ze(m)||bt(m)?!1:et(m).position==="fixed"||At(m,d)}function We(c,d){const m=d.get(c);if(m)return m;let g=jt(c,[],!1).filter(D=>Ze(D)&&pt(D)!=="body"),v=null;const b=et(c).position==="fixed";let E=b?at(c):c;for(;Ze(E)&&!bt(E);){const D=et(E),W=Ht(E);!W&&D.position==="fixed"&&(v=null),(b?!W&&!v:!W&&D.position==="static"&&!!v&&["absolute","fixed"].includes(v.position)||Ct(E)&&!W&&At(c,E))?g=g.filter(G=>G!==E):v=D,E=at(E)}return d.set(c,g),g}function Yt(c){let{element:d,boundary:m,rootBoundary:g,strategy:v}=c;const E=[...m==="clippingAncestors"?Rt(d)?[]:We(d,this._c):[].concat(m),g],D=E[0],W=E.reduce((M,G)=>{const L=qt(d,G,v);return M.top=x(L.top,M.top),M.right=k(L.right,M.right),M.bottom=k(L.bottom,M.bottom),M.left=x(L.left,M.left),M},qt(d,D,v));return{width:W.right-W.left,height:W.bottom-W.top,x:W.left,y:W.top}}function Qt(c){const{width:d,height:m}=_s(c);return{width:d,height:m}}function bs(c,d,m){const g=ot(d),v=nt(d),b=m==="fixed",E=ct(c,!0,b,d);let D={scrollLeft:0,scrollTop:0};const W=X(0);if(g||!g&&!b)if((pt(d)!=="body"||Ct(v))&&(D=Nt(d)),g){const J=ct(d,!0,b,d);W.x=J.x+d.clientLeft,W.y=J.y+d.clientTop}else v&&(W.x=Et(v));const M=v&&!g&&!b?Dt(v,D):X(0),G=E.left+D.scrollLeft-W.x-M.x,L=E.top+D.scrollTop-W.y-M.y;return{x:G,y:L,width:E.width,height:E.height}}function ht(c){return et(c).position==="static"}function _t(c,d){if(!ot(c)||et(c).position==="fixed")return null;if(d)return d(c);let m=c.offsetParent;return nt(c)===m&&(m=m.ownerDocument.body),m}function St(c,d){const m=Be(c);if(Rt(c))return m;if(!ot(c)){let v=at(c);for(;v&&!bt(v);){if(Ze(v)&&!ht(v))return v;v=at(v)}return m}let g=_t(c,d);for(;g&&zs(g)&&ht(g);)g=_t(g,d);return g&&bt(g)&&ht(g)&&!Ht(g)?m:g||Ks(c)||m}const ys=async function(c){const d=this.getOffsetParent||St,m=this.getDimensions,g=await m(c.floating);return{reference:bs(c.reference,await d(c.floating),c.strategy),floating:{x:0,y:0,width:g.width,height:g.height}}};function Xt(c){return et(c).direction==="rtl"}const Es={convertOffsetParentRelativeRectToViewportRelativeRect:gs,getDocumentElement:nt,getClippingRect:Yt,getOffsetParent:St,getElementRects:ys,getClientRects:xt,getDimensions:Qt,getScale:yt,isElement:Ze,isRTL:Xt};function kt(c,d){return c.x===d.x&&c.y===d.y&&c.width===d.width&&c.height===d.height}function Pt(c,d){let m=null,g;const v=getDocumentElement(c);function b(){var D;clearTimeout(g),(D=m)==null||D.disconnect(),m=null}function E(D,W){D===void 0&&(D=!1),W===void 0&&(W=1),b();const M=c.getBoundingClientRect(),{left:G,top:L,width:J,height:K}=M;if(D||d(),!J||!K)return;const se=floor(L),le=floor(v.clientWidth-(G+J)),A=floor(v.clientHeight-(L+K)),ae=floor(G),he={rootMargin:-se+"px "+-le+"px "+-A+"px "+-ae+"px",threshold:max(0,min(1,W))||1};let ye=!0;function ge(Ce){const Oe=Ce[0].intersectionRatio;if(Oe!==W){if(!ye)return E();Oe?E(!1,Oe):g=setTimeout(()=>{E(!1,1e-7)},1e3)}Oe===1&&!kt(M,c.getBoundingClientRect())&&E(),ye=!1}try{m=new IntersectionObserver(ge,{...he,root:v.ownerDocument})}catch{m=new IntersectionObserver(ge,he)}m.observe(c)}return E(!0),b}function ut(c,d,m,g){g===void 0&&(g={});const{ancestorScroll:v=!0,ancestorResize:b=!0,elementResize:E=typeof ResizeObserver=="function",layoutShift:D=typeof IntersectionObserver=="function",animationFrame:W=!1}=g,M=$t(c),G=v||b?[...M?getOverflowAncestors(M):[],...getOverflowAncestors(d)]:[];G.forEach(ae=>{v&&ae.addEventListener("scroll",m,{passive:!0}),b&&ae.addEventListener("resize",m)});const L=M&&D?Pt(M,m):null;let J=-1,K=null;E&&(K=new ResizeObserver(ae=>{let[de]=ae;de&&de.target===M&&K&&(K.unobserve(d),cancelAnimationFrame(J),J=requestAnimationFrame(()=>{var he;(he=K)==null||he.observe(d)})),m()}),M&&!W&&K.observe(M),K.observe(d));let se,le=W?ct(c):null;W&&A();function A(){const ae=ct(c);le&&!kt(le,ae)&&m(),le=ae,se=requestAnimationFrame(A)}return m(),()=>{var ae;G.forEach(de=>{v&&de.removeEventListener("scroll",m),b&&de.removeEventListener("resize",m)}),L?.(),(ae=K)==null||ae.disconnect(),K=null,W&&cancelAnimationFrame(se)}}const dt=we,Jt=cs,ft=null,Zt=zt,qe=vt,ws=ds,Ts=ls,mt=it,Mt=null,Ot=us,gt=(c,d,m)=>{const g=new Map,v={platform:Es,...m},b={...v.platform,_c:g};return H(c,d,{...v,platform:b})}},140116:(Fe,j,z)=>{z.d(j,{A:()=>te});function S(ie){for(var k=0,x,B=0,$=ie.length;$>=4;++B,$-=4)x=ie.charCodeAt(B)&255|(ie.charCodeAt(++B)&255)<<8|(ie.charCodeAt(++B)&255)<<16|(ie.charCodeAt(++B)&255)<<24,x=(x&65535)*1540483477+((x>>>16)*59797<<16),x^=x>>>24,k=(x&65535)*1540483477+((x>>>16)*59797<<16)^(k&65535)*1540483477+((k>>>16)*59797<<16);switch($){case 3:k^=(ie.charCodeAt(B+2)&255)<<16;case 2:k^=(ie.charCodeAt(B+1)&255)<<8;case 1:k^=ie.charCodeAt(B)&255,k=(k&65535)*1540483477+((k>>>16)*59797<<16)}return k^=k>>>13,k=(k&65535)*1540483477+((k>>>16)*59797<<16),((k^k>>>15)>>>0).toString(36)}const te=S},980135:(Fe,j,z)=>{z.d(j,{O:()=>te});var S=z(221647);function te(ie){let k=null,x=null;function B($){const{dir:X}=$,ne=X==="ltr";return ne?k===null&&(k=(0,S.N)(ie,X)):x===null&&(x=(0,S.N)(ie,X)),ne?k:x}return B}},847322:(Fe,j,z)=>{z.d(j,{D:()=>S});function S(te,ie){function k(x){const{dir:B}=x;return B==="ltr"?te:ie||te}return k}},423503:(Fe,j,z)=>{z.d(j,{ed:()=>B,EJ:()=>$,uq:()=>Z,k1:()=>x,aN:()=>X,FS:()=>ue,AX:()=>pe,Ut:()=>V,ez:()=>U,fj:()=>Y,wn:()=>Q,qw:()=>be});const S=typeof window>"u"?z.g:window,te="@griffel/";function ie(O,T){return S[Symbol.for(te+O)]||(S[Symbol.for(te+O)]=T),S[Symbol.for(te+O)]}const k=ie("DEBUG_RESET_CLASSES",{}),x=ie("DEFINITION_LOOKUP_TABLE",{}),B="data-make-styles-bucket",$="data-priority",X="f",ne="r",U=7,Y="___",Z="_",Q=Y.length+U,ue=0,pe=1,be={all:1,borderColor:1,borderStyle:1,borderWidth:1,borderBlock:1,borderBlockEnd:1,borderBlockStart:1,borderInline:1,borderInlineEnd:1,borderInlineStart:1},V="DO_NOT_USE_DIRECTLY: @griffel/reset-value"},916934:(Fe,j,z)=>{z.d(j,{z:()=>x});var S=z(423503),te=z(739056),ie=z(221647);const k={};function x(){let B=null,$="",X="";const ne=new Array(arguments.length);let U="";for(let O=0;O<arguments.length;O++){const T=arguments[O];if(typeof T=="string"&&T!==""){const P=T.indexOf(S.fj);if(P===-1)$+=T+" ";else{const q=T.substr(P,S.wn);P>0&&($+=T.slice(0,P)),X+=q,ne[O]=q}}}if(X==="")return $.slice(0,-1);const Y=k[X];if(Y!==void 0)return $+Y;const Z=[];for(let O=0;O<arguments.length;O++){const T=ne[O];if(T){const P=S.k1[T];P&&(Z.push(P[S.FS]),B=P[S.AX])}}const Q=Object.assign.apply(Object,[{}].concat(Z)),[ue,pe]=(0,ie.z)(Q,B),be=(0,te.G)(pe,B,ne),V=be+" "+ue;return k[X]=V,S.k1[be]=[Q,B],$+V}},681422:(Fe,j,z)=>{z.d(j,{I:()=>X});function S(ne){return Array.isArray(ne)?ne:[ne]}var te=z(197323);const ie=["-moz-placeholder","-moz-focus-inner","-moz-focusring","-ms-input-placeholder","-moz-read-write","-moz-read-only"].join("|"),k=new RegExp(`:(${ie})`);function x(ne,U){try{ne.insertRule(U)}catch{}}let B=0;const $=(ne,U)=>ne<U?-1:ne>U?1:0;function X(ne=typeof document>"u"?void 0:document,U={}){const{classNameHashSalt:Y,unstable_filterCSSRule:Z,insertionPoint:Q,styleElementAttributes:ue,compareMediaQueries:pe=$}=U,be={classNameHashSalt:Y,insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(ue),compareMediaQueries:pe,id:`d${B++}`,insertCSSRules(V){for(const O in V){const T=V[O];for(let P=0,q=T.length;P<q;P++){const[fe,Me]=S(T[P]),Re=(0,te.IH)(O,ne,Q||null,be,Me);be.insertionCache[fe]||(be.insertionCache[fe]=O,Z?Z(fe)&&x(Re,fe):x(Re,fe))}}}};return be}},121783:(Fe,j,z)=>{z.d(j,{W:()=>te,Y:()=>ie});var S=z(423503);function te(k,x,B,$){const X=[];if($[S.ed]=x,$[S.EJ]=String(B),k)for(const U in $)k.setAttribute(U,$[U]);function ne(U){return k?.sheet?k.sheet.insertRule(U,k.sheet.cssRules.length):X.push(U)}return{elementAttributes:$,insertRule:ne,element:k,bucketName:x,cssRules(){return k?.sheet?Array.from(k.sheet.cssRules).map(U=>U.cssText):X}}}function ie(k){const x=Array.from(k.attributes).reduce(($,X)=>($[X.name]=X.value,$),{});return te(k,x[S.ed],Number(x[S.EJ]),x)}},197323:(Fe,j,z)=>{z.d(j,{IH:()=>$,g_:()=>B});var S=z(423503),te=z(121783);const k=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"].reduce((U,Y,Z)=>(U[Y]=Z,U),{});function x(U,Y,Z){return(U==="m"?U+Y:U)+Z}function B(U){var Y;const Z=U.getAttribute(S.ed),Q=(Y=U.getAttribute(S.EJ))!==null&&Y!==void 0?Y:"0";return x(Z,U.media,Q)}function $(U,Y,Z,Q,ue={}){var pe,be;const V=U==="m",O=(pe=ue.m)!==null&&pe!==void 0?pe:"0",T=(be=ue.p)!==null&&be!==void 0?be:0,P=x(U,O,T);if(!Q.stylesheets[P]){const q=Y&&Y.createElement("style"),fe=(0,te.W)(q,U,T,Object.assign({},Q.styleElementAttributes,V&&{media:O}));Q.stylesheets[P]=fe,Y&&q&&Y.head.insertBefore(q,ne(Y,Z,U,Q,ue))}return Q.stylesheets[P]}function X(U,Y,Z){var Q,ue;const pe=Y+((Q=Z.m)!==null&&Q!==void 0?Q:""),be=U.getAttribute(S.ed)+((ue=U.media)!==null&&ue!==void 0?ue:"");return pe===be}function ne(U,Y,Z,Q,ue={}){var pe,be;const V=k[Z],O=(pe=ue.m)!==null&&pe!==void 0?pe:"",T=(be=ue.p)!==null&&be!==void 0?be:0;let P=xe=>V-k[xe.getAttribute(S.ed)],q=U.head.querySelectorAll(`[${S.ed}]`);if(Z==="m"){const xe=U.head.querySelectorAll(`[${S.ed}="${Z}"]`);xe.length&&(q=xe,P=lt=>Q.compareMediaQueries(O,lt.media))}const fe=xe=>X(xe,Z,ue)?T-Number(xe.getAttribute("data-priority")):P(xe),Me=q.length;let Re=Me-1;for(;Re>=0;){const xe=q.item(Re);if(fe(xe)>0)return xe.nextSibling;Re--}return Me>0?q.item(0):Y?Y.nextSibling:null}},221647:(Fe,j,z)=>{z.d(j,{z:()=>ie,N:()=>k});var S=z(423503),te=z(739056);function ie(x,B){let $="",X="";for(const ne in x){const U=x[ne];if(U===0){X+=ne+" ";continue}const Y=Array.isArray(U),Z=B==="rtl"?(Y?U[1]:U)+" ":(Y?U[0]:U)+" ";$+=Z,X+=Z}return[$.slice(0,-1),X.slice(0,-1)]}function k(x,B){const $={};for(const X in x){const[ne,U]=ie(x[X],B);if(U===""){$[X]="";continue}const Y=(0,te.G)(U,B),Z=Y+(ne===""?"":" "+ne);S.k1[Y]=[x[X],B],$[X]=Z}return $}},739056:(Fe,j,z)=>{z.d(j,{G:()=>k});var S=z(140116),te=z(423503);function ie(x){const B=x.length;if(B===te.ez)return x;for(let $=B;$<te.ez;$++)x+="0";return x}function k(x,B,$=[]){return te.fj+ie((0,S.A)(x+B))}},750779:(Fe,j,z)=>{z.d(j,{H:()=>Z,J:()=>Q});var S=z(121783),te=z(197323);const ie=/@(-webkit-)?keyframes ([^{]+){((?:(?:from|to|(?:\d+\.?\d*%))\{(?:[^}])*})*)}/g,k=/@(media|supports|layer)[^{]+\{([\s\S]+?})\s*}/g,x=/\.([^{:]+)(:[^{]+)?{(?:[^}]*;)?([^}]*?)}/g,B={k:ie,t:k,m:k};function $(ue,pe=typeof document>"u"?void 0:document){pe&&pe.querySelectorAll("[data-make-styles-bucket]").forEach(V=>{const O=V.dataset.makeStylesBucket,T=(0,te.g_)(V);ue.stylesheets[T]||(ue.stylesheets[T]=(0,S.Y)(V));const P=B[O]||x;let q;for(;q=P.exec(V.textContent);){const[fe]=q;ue.insertionCache[fe]=O}})}var X=z(681422),ne=z(513432),U=z(299607);const Y=ne.createContext((0,X.I)()),Z=({children:ue,renderer:pe,targetDocument:be})=>(ne.useMemo(()=>{(0,U.S)()&&$(pe,be)},[pe,be]),ne.createElement(Y.Provider,{value:pe},ue));function Q(){return ne.useContext(Y)}},13025:(Fe,j,z)=>{z.d(j,{e:()=>k,m:()=>x});var S=z(513432),te=z.n(S);const ie=S.createContext("ltr"),k=({children:B,dir:$})=>S.createElement(ie.Provider,{value:$},B);function x(){return S.useContext(ie)}},501839:(Fe,j,z)=>{z.d(j,{O:()=>ie});var S=z(980135),te=z(13025);function ie(k){const x=(0,S.O)(k);return function(){const $=(0,te.m)();return x({dir:$})}}},327794:(Fe,j,z)=>{z.d(j,{D:()=>ie});var S=z(847322),te=z(13025);function ie(k,x){const B=(0,S.D)(k,x);return function(){const X=(0,te.m)();return B({dir:X})}}},299607:(Fe,j,z)=>{z.d(j,{S:()=>S});function S(){return typeof window<"u"&&!!(window.document&&window.document.createElement)}},308014:(Fe,j,z)=>{z.d(j,{Oy:()=>ie,RY:()=>k,SQ:()=>pe,bd:()=>be,kG:()=>$});var S=typeof WeakRef<"u",te=class{constructor(O){S&&typeof O=="object"?this._weakRef=new WeakRef(O):this._instance=O}deref(){var O,T;let P;return this._weakRef?(P=(O=this._weakRef)==null?void 0:O.deref(),P||delete this._weakRef):(P=this._instance,(T=P?.isDisposed)!=null&&T.call(P)&&delete this._instance),P}},ie="keyborg:focusin",k="keyborg:focusout";function x(O){const T=O.HTMLElement,P=T.prototype.focus;let q=!1;return T.prototype.focus=function(){q=!0},O.document.createElement("button").focus(),T.prototype.focus=P,q}var B=!1;function $(O){const T=O.focus;T.__keyborgNativeFocus?T.__keyborgNativeFocus.call(O):O.focus()}function X(O){const T=O;B||(B=x(T));const P=T.HTMLElement.prototype.focus;if(P.__keyborgNativeFocus)return;T.HTMLElement.prototype.focus=lt;const q=new Set,fe=Pe=>{const H=Pe.target;if(!H)return;const we=new CustomEvent(k,{cancelable:!0,bubbles:!0,composed:!0,detail:{originalEvent:Pe}});H.dispatchEvent(we)},Me=Pe=>{const H=Pe.target;if(!H)return;let we=Pe.composedPath()[0];const it=new Set;for(;we;)we.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(it.add(we),we=we.host):we=we.parentNode;for(const $e of q){const Xe=$e.deref();(!Xe||!it.has(Xe))&&(q.delete($e),Xe&&(Xe.removeEventListener("focusin",Me,!0),Xe.removeEventListener("focusout",fe,!0)))}Re(H,Pe.relatedTarget||void 0)},Re=(Pe,H,we)=>{var it;const $e=Pe.shadowRoot;if($e){for(const Tt of q)if(Tt.deref()===$e)return;$e.addEventListener("focusin",Me,!0),$e.addEventListener("focusout",fe,!0),q.add(new te($e));return}const Xe={relatedTarget:H,originalEvent:we},vt=new CustomEvent(ie,{cancelable:!0,bubbles:!0,composed:!0,detail:Xe});vt.details=Xe,(B||xe.lastFocusedProgrammatically)&&(Xe.isFocusedProgrammatically=Pe===((it=xe.lastFocusedProgrammatically)==null?void 0:it.deref()),xe.lastFocusedProgrammatically=void 0),Pe.dispatchEvent(vt)},xe=T.__keyborgData={focusInHandler:Me,focusOutHandler:fe,shadowTargets:q};T.document.addEventListener("focusin",T.__keyborgData.focusInHandler,!0),T.document.addEventListener("focusout",T.__keyborgData.focusOutHandler,!0);function lt(){const Pe=T.__keyborgData;return Pe&&(Pe.lastFocusedProgrammatically=new te(this)),P.apply(this,arguments)}let Qe=T.document.activeElement;for(;Qe&&Qe.shadowRoot;)Re(Qe),Qe=Qe.shadowRoot.activeElement;lt.__keyborgNativeFocus=P}function ne(O){const T=O,P=T.HTMLElement.prototype,q=P.focus.__keyborgNativeFocus,fe=T.__keyborgData;if(fe){T.document.removeEventListener("focusin",fe.focusInHandler,!0),T.document.removeEventListener("focusout",fe.focusOutHandler,!0);for(const Me of fe.shadowTargets){const Re=Me.deref();Re&&(Re.removeEventListener("focusin",fe.focusInHandler,!0),Re.removeEventListener("focusout",fe.focusOutHandler,!0))}fe.shadowTargets.clear(),delete T.__keyborgData}q&&(P.focus=q)}function U(O){var T;const P=O.__keyborgData;return P?((T=P.lastFocusedProgrammatically)==null?void 0:T.deref())||null:void 0}var Y=500,Z=0,Q=class{constructor(O,T){this._isNavigatingWithKeyboard_DO_NOT_USE=!1,this._onFocusIn=q=>{if(this._isMouseOrTouchUsedTimer||this.isNavigatingWithKeyboard)return;const fe=q.detail;fe.relatedTarget&&(fe.isFocusedProgrammatically||fe.isFocusedProgrammatically===void 0||(this.isNavigatingWithKeyboard=!0))},this._onMouseDown=q=>{q.buttons===0||q.clientX===0&&q.clientY===0&&q.screenX===0&&q.screenY===0||this._onMouseOrTouch()},this._onMouseOrTouch=()=>{const q=this._win;q&&(this._isMouseOrTouchUsedTimer&&q.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=q.setTimeout(()=>{delete this._isMouseOrTouchUsedTimer},1e3)),this.isNavigatingWithKeyboard=!1},this._onKeyDown=q=>{this.isNavigatingWithKeyboard?this._shouldDismissKeyboardNavigation(q)&&this._scheduleDismiss():this._shouldTriggerKeyboardNavigation(q)&&(this.isNavigatingWithKeyboard=!0)},this.id="c"+ ++Z,this._win=O;const P=O.document;if(T){const q=T.triggerKeys,fe=T.dismissKeys;q?.length&&(this._triggerKeys=new Set(q)),fe?.length&&(this._dismissKeys=new Set(fe))}P.addEventListener(ie,this._onFocusIn,!0),P.addEventListener("mousedown",this._onMouseDown,!0),O.addEventListener("keydown",this._onKeyDown,!0),P.addEventListener("touchstart",this._onMouseOrTouch,!0),P.addEventListener("touchend",this._onMouseOrTouch,!0),P.addEventListener("touchcancel",this._onMouseOrTouch,!0),X(O)}get isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard_DO_NOT_USE}set isNavigatingWithKeyboard(O){this._isNavigatingWithKeyboard_DO_NOT_USE!==O&&(this._isNavigatingWithKeyboard_DO_NOT_USE=O,this.update())}dispose(){const O=this._win;if(O){this._isMouseOrTouchUsedTimer&&(O.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=void 0),this._dismissTimer&&(O.clearTimeout(this._dismissTimer),this._dismissTimer=void 0),ne(O);const T=O.document;T.removeEventListener(ie,this._onFocusIn,!0),T.removeEventListener("mousedown",this._onMouseDown,!0),O.removeEventListener("keydown",this._onKeyDown,!0),T.removeEventListener("touchstart",this._onMouseOrTouch,!0),T.removeEventListener("touchend",this._onMouseOrTouch,!0),T.removeEventListener("touchcancel",this._onMouseOrTouch,!0),delete this._win}}isDisposed(){return!!this._win}update(){var O,T;const P=(T=(O=this._win)==null?void 0:O.__keyborg)==null?void 0:T.refs;if(P)for(const q of Object.keys(P))ue.update(P[q],this.isNavigatingWithKeyboard)}_shouldTriggerKeyboardNavigation(O){var T;if(O.key==="Tab")return!0;const P=(T=this._win)==null?void 0:T.document.activeElement,q=!this._triggerKeys||this._triggerKeys.has(O.keyCode),fe=P&&(P.tagName==="INPUT"||P.tagName==="TEXTAREA"||P.isContentEditable);return q&&!fe}_shouldDismissKeyboardNavigation(O){var T;return(T=this._dismissKeys)==null?void 0:T.has(O.keyCode)}_scheduleDismiss(){const O=this._win;if(O){this._dismissTimer&&(O.clearTimeout(this._dismissTimer),this._dismissTimer=void 0);const T=O.document.activeElement;this._dismissTimer=O.setTimeout(()=>{this._dismissTimer=void 0;const P=O.document.activeElement;T&&P&&T===P&&(this.isNavigatingWithKeyboard=!1)},Y)}}},ue=class ui{constructor(T,P){this._cb=[],this._id="k"+ ++Z,this._win=T;const q=T.__keyborg;q?(this._core=q.core,q.refs[this._id]=this):(this._core=new Q(T,P),T.__keyborg={core:this._core,refs:{[this._id]:this}})}static create(T,P){return new ui(T,P)}static dispose(T){T.dispose()}static update(T,P){T._cb.forEach(q=>q(P))}dispose(){var T;const P=(T=this._win)==null?void 0:T.__keyborg;P?.refs[this._id]&&(delete P.refs[this._id],Object.keys(P.refs).length===0&&(P.core.dispose(),delete this._win.__keyborg)),this._cb=[],delete this._core,delete this._win}isNavigatingWithKeyboard(){var T;return!!((T=this._core)!=null&&T.isNavigatingWithKeyboard)}subscribe(T){this._cb.push(T)}unsubscribe(T){const P=this._cb.indexOf(T);P>=0&&this._cb.splice(P,1)}setVal(T){this._core&&(this._core.isNavigatingWithKeyboard=T)}};function pe(O,T){return ue.create(O,T)}function be(O){ue.dispose(O)}var V="2.6.0";/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */},130288:(Fe,j)=>{/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z=60103,S=60106,te=60107,ie=60108,k=60114,x=60109,B=60110,$=60112,X=60113,ne=60120,U=60115,Y=60116,Z=60121,Q=60122,ue=60117,pe=60129,be=60131;if(typeof Symbol=="function"&&Symbol.for){var V=Symbol.for;z=V("react.element"),S=V("react.portal"),te=V("react.fragment"),ie=V("react.strict_mode"),k=V("react.profiler"),x=V("react.provider"),B=V("react.context"),$=V("react.forward_ref"),X=V("react.suspense"),ne=V("react.suspense_list"),U=V("react.memo"),Y=V("react.lazy"),Z=V("react.block"),Q=V("react.server.block"),ue=V("react.fundamental"),pe=V("react.debug_trace_mode"),be=V("react.legacy_hidden")}function O(H){if(typeof H=="object"&&H!==null){var we=H.$$typeof;switch(we){case z:switch(H=H.type,H){case te:case k:case ie:case X:case ne:return H;default:switch(H=H&&H.$$typeof,H){case B:case $:case Y:case U:case x:return H;default:return we}}case S:return we}}}var T=x,P=z,q=$,fe=te,Me=Y,Re=U,xe=S,lt=k,Qe=ie,Pe=X;j.ContextConsumer=B,j.ContextProvider=T,j.Element=P,j.ForwardRef=q,j.Fragment=fe,j.Lazy=Me,j.Memo=Re,j.Portal=xe,j.Profiler=lt,j.StrictMode=Qe,j.Suspense=Pe,j.isAsyncMode=function(){return!1},j.isConcurrentMode=function(){return!1},j.isContextConsumer=function(H){return O(H)===B},j.isContextProvider=function(H){return O(H)===x},j.isElement=function(H){return typeof H=="object"&&H!==null&&H.$$typeof===z},j.isForwardRef=function(H){return O(H)===$},j.isFragment=function(H){return O(H)===te},j.isLazy=function(H){return O(H)===Y},j.isMemo=function(H){return O(H)===U},j.isPortal=function(H){return O(H)===S},j.isProfiler=function(H){return O(H)===k},j.isStrictMode=function(H){return O(H)===ie},j.isSuspense=function(H){return O(H)===X},j.isValidElementType=function(H){return typeof H=="string"||typeof H=="function"||H===te||H===k||H===pe||H===ie||H===X||H===ne||H===be||typeof H=="object"&&H!==null&&(H.$$typeof===Y||H.$$typeof===U||H.$$typeof===x||H.$$typeof===B||H.$$typeof===$||H.$$typeof===ue||H.$$typeof===Z||H[0]===Q)},j.typeOf=O},560556:(Fe,j,z)=>{Fe.exports=z(130288)},995383:(Fe,j,z)=>{/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S=z(513432),te=Symbol.for("react.element"),ie=Symbol.for("react.fragment"),k=Object.prototype.hasOwnProperty,x=S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B={key:!0,ref:!0,__self:!0,__source:!0};function $(X,ne,U){var Y,Z={},Q=null,ue=null;U!==void 0&&(Q=""+U),ne.key!==void 0&&(Q=""+ne.key),ne.ref!==void 0&&(ue=ne.ref);for(Y in ne)k.call(ne,Y)&&!B.hasOwnProperty(Y)&&(Z[Y]=ne[Y]);if(X&&X.defaultProps)for(Y in ne=X.defaultProps,ne)Z[Y]===void 0&&(Z[Y]=ne[Y]);return{$$typeof:te,type:X,key:Q,ref:ue,props:Z,_owner:x.current}}j.Fragment=ie,j.jsx=$,j.jsxs=$},359885:(Fe,j,z)=>{Fe.exports=z(995383)},752076:(Fe,j,z)=>{z.d(j,{LF:()=>pe,gm:()=>zt,K9:()=>ue,iA:()=>Z,uH:()=>Q,VB:()=>Bt,OZ:()=>$,CP:()=>Y,nQ:()=>vt,Kh:()=>Xe,bN:()=>be,h7:()=>te,rg:()=>P,GD:()=>q,Jm:()=>U,_A:()=>en,hC:()=>nn,pf:()=>tn,$x:()=>ii,$d:()=>ei,Az:()=>ni,S:()=>ti,TP:()=>oi,be:()=>si,mz:()=>sn,U6:()=>G,xR:()=>on,yH:()=>J});var S=z(308014);/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const te="data-tabster",ie="data-tabster-dummy",k=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]","details > summary","audio[controls]","video[controls]"].join(", "),x={EscapeGroupper:1,Restorer:2,Deloser:3},B={Any:0,Accessible:1,Focusable:2},$={Waiting:0,Succeeded:1,Canceled:2,TimedOut:3},X={History:0,DeloserDefault:1,RootDefault:2,DeloserFirst:3,RootFirst:4},ne={Auto:0,Manual:1},U={Invisible:0,PartiallyVisible:1,Visible:2},Y={Source:0,Target:1},Z={Both:0,Vertical:1,Horizontal:2,Grid:3,GridLinear:4},Q={ArrowUp:1,ArrowDown:2,ArrowLeft:3,ArrowRight:4,PageUp:5,PageDown:6,Home:7,End:8},ue={Unlimited:0,Limited:1,LimitedTrapFocus:2},pe={Enter:1,Escape:2},be={Auto:0,Inside:1,Outside:2};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function V(r,e){var t;return(t=r.storageEntry(e))===null||t===void 0?void 0:t.tabster}function O(r,e,t){var s,i;const n=t||r._noop?void 0:e.getAttribute(te);let o=r.storageEntry(e),l;if(n)if(n!==((s=o?.attr)===null||s===void 0?void 0:s.string))try{const h=JSON.parse(n);if(typeof h!="object")throw new Error(`Value is not a JSON object, got '${n}'.`);l={string:n,object:h}}catch{}else return;else if(!o)return;o||(o=r.storageEntry(e,!0)),o.tabster||(o.tabster={});const a=o.tabster||{},u=((i=o.attr)===null||i===void 0?void 0:i.object)||{},f=l?.object||{};for(const h of Object.keys(u))if(!f[h]){if(h==="root"){const p=a[h];p&&r.root.onRoot(p,!0)}switch(h){case"deloser":case"root":case"groupper":case"modalizer":case"restorer":case"mover":const p=a[h];p&&(p.dispose(),delete a[h]);break;case"observed":delete a[h],r.observedElement&&r.observedElement.onObservedElementUpdate(e);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete a[h];break}}for(const h of Object.keys(f)){const p=f.sys;switch(h){case"deloser":a.deloser?a.deloser.setProps(f.deloser):r.deloser&&(a.deloser=r.deloser.createDeloser(e,f.deloser));break;case"root":a.root?a.root.setProps(f.root):a.root=r.root.createRoot(e,f.root,p),r.root.onRoot(a.root);break;case"modalizer":a.modalizer?a.modalizer.setProps(f.modalizer):r.modalizer&&(a.modalizer=r.modalizer.createModalizer(e,f.modalizer,p));break;case"restorer":a.restorer?a.restorer.setProps(f.restorer):r.restorer&&f.restorer&&(a.restorer=r.restorer.createRestorer(e,f.restorer));break;case"focusable":a.focusable=f.focusable;break;case"groupper":a.groupper?a.groupper.setProps(f.groupper):r.groupper&&(a.groupper=r.groupper.createGroupper(e,f.groupper,p));break;case"mover":a.mover?a.mover.setProps(f.mover):r.mover&&(a.mover=r.mover.createMover(e,f.mover,p));break;case"observed":r.observedElement&&(a.observed=f.observed,r.observedElement.onObservedElementUpdate(e));break;case"uncontrolled":a.uncontrolled=f.uncontrolled;break;case"outline":r.outline&&(a.outline=f.outline);break;case"sys":a.sys=f.sys;break;default:console.error(`Unknown key '${h}' in data-tabster attribute value.`)}}l?o.attr=l:(Object.keys(a).length===0&&(delete o.tabster,delete o.attr),r.storageEntry(e,!1))}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const T="tabster:focusin",P="tabster:focusout",q="tabster:movefocus",fe="tabster:deloser:focus-lost",Me="tabster:deloser:restore-focus",Re="tabster:modalizer:active",xe="tabster:modalizer:inactive",lt="tabster:modalizer:focusin",Qe="tabster:modalizer:focusout",Pe="tabster:mover:state",H="tabster:mover:movefocus",we="tabster:mover:memorized-element",it="tabster:groupper:movefocus",$e="tabster:restorer:restore-focus",Xe="tabster:root:focus",vt="tabster:root:blur",Tt=typeof CustomEvent<"u"?CustomEvent:function(){};class Ke extends Tt{constructor(e,t){super(e,{bubbles:!0,cancelable:!0,composed:!0,detail:t}),this.details=t}}class ls extends Ke{constructor(e){super(T,e)}}class Ut extends Ke{constructor(e){super(P,e)}}class Je extends Ke{constructor(e){super(q,e)}}class as extends Ke{constructor(e){super(Pe,e)}}class Bt extends Ke{constructor(e){super(H,e)}}class cs extends null{constructor(e){super(we,e)}}class zt extends Ke{constructor(e){super(it,e)}}class us extends Ke{constructor(e){super(Re,e)}}class ds extends Ke{constructor(e){super(xe,e)}}class Ft extends Ke{constructor(e){super(fe,e)}}class pt extends null{constructor(){super(Me)}}class Be extends Ke{constructor(){super($e)}}class nt extends Ke{constructor(e){super(Xe,e)}}class Kt extends Ke{constructor(e){super(vt,e)}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const w={createMutationObserver:r=>new MutationObserver(r),createTreeWalker:(r,e,t,s)=>r.createTreeWalker(e,t,s),getParentNode:r=>r?r.parentNode:null,getParentElement:r=>r?r.parentElement:null,nodeContains:(r,e)=>!!(e&&r?.contains(e)),getActiveElement:r=>r.activeElement,querySelector:(r,e)=>r.querySelector(e),querySelectorAll:(r,e)=>Array.prototype.slice.call(r.querySelectorAll(e),0),getElementById:(r,e)=>r.getElementById(e),getFirstChild:r=>r?.firstChild||null,getLastChild:r=>r?.lastChild||null,getNextSibling:r=>r?.nextSibling||null,getPreviousSibling:r=>r?.previousSibling||null,getFirstElementChild:r=>r?.firstElementChild||null,getLastElementChild:r=>r?.lastElementChild||null,getNextElementSibling:r=>r?.nextElementSibling||null,getPreviousElementSibling:r=>r?.previousElementSibling||null,appendChild:(r,e)=>r.appendChild(e),insertBefore:(r,e,t)=>r.insertBefore(e,t),getSelection:r=>{var e;return((e=r.ownerDocument)===null||e===void 0?void 0:e.getSelection())||null},getElementsByName:(r,e)=>r.ownerDocument.getElementsByName(e)};function ct(r){for(const e of Object.keys(r))w[e]=r[e]}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let Et;const Dt=typeof DOMRect<"u"?DOMRect:class{constructor(r,e,t,s){this.left=r||0,this.top=e||0,this.right=(r||0)+(t||0),this.bottom=(e||0)+(s||0)}};let gs=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),Et=!1}catch{Et=!0}const xt=100;function tt(r){const e=r();let t=e.__tabsterInstanceContext;return t||(t={elementByUId:{},basics:{Promise:e.Promise||void 0,WeakRef:e.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},e.__tabsterInstanceContext=t),t}function vs(r){const e=r.__tabsterInstanceContext;e&&(e.elementByUId={},delete e.WeakRef,e.containerBoundingRectCache={},e.containerBoundingRectCacheTimer&&r.clearTimeout(e.containerBoundingRectCacheTimer),e.fakeWeakRefsTimer&&r.clearTimeout(e.fakeWeakRefsTimer),e.fakeWeakRefs=[],delete r.__tabsterInstanceContext)}function ps(r){const e=r.__tabsterInstanceContext;return new(e?.basics.WeakMap||WeakMap)}function qt(r){return!!r.querySelector(k)}class At{constructor(e){this._target=e}deref(){return this._target}static cleanup(e,t){return e._target?t||!ft(e._target.ownerDocument,e._target)?(delete e._target,!0):!1:!0}}class We{constructor(e,t,s){const i=tt(e);let n;i.WeakRef?n=new i.WeakRef(t):(n=new At(t),i.fakeWeakRefs.push(n)),this._ref=n,this._data=s}get(){const e=this._ref;let t;return e&&(t=e.deref(),t||delete this._ref),t}getData(){return this._data}}function Yt(r,e){const t=tt(r);t.fakeWeakRefs=t.fakeWeakRefs.filter(s=>!At.cleanup(s,e))}function Qt(r){const e=tt(r);e.fakeWeakRefsStarted||(e.fakeWeakRefsStarted=!0,e.WeakRef=ws(e)),e.fakeWeakRefsTimer||(e.fakeWeakRefsTimer=r().setTimeout(()=>{e.fakeWeakRefsTimer=void 0,Yt(r),Qt(r)},2*60*1e3))}function bs(r){const e=tt(r);e.fakeWeakRefsStarted=!1,e.fakeWeakRefsTimer&&(r().clearTimeout(e.fakeWeakRefsTimer),e.fakeWeakRefsTimer=void 0,e.fakeWeakRefs=[])}function ht(r,e,t){if(e.nodeType!==Node.ELEMENT_NODE)return;const s=Et?t:{acceptNode:t};return w.createTreeWalker(r,e,NodeFilter.SHOW_ELEMENT,s,!1)}function _t(r,e){let t=e.__tabsterCacheId;const s=tt(r),i=t?s.containerBoundingRectCache[t]:void 0;if(i)return i.rect;const n=e.ownerDocument&&e.ownerDocument.documentElement;if(!n)return new Dt;let o=0,l=0,a=n.clientWidth,u=n.clientHeight;if(e!==n){const h=e.getBoundingClientRect();o=Math.max(o,h.left),l=Math.max(l,h.top),a=Math.min(a,h.right),u=Math.min(u,h.bottom)}const f=new Dt(o<a?o:-1,l<u?l:-1,o<a?a-o:0,l<u?u-l:0);return t||(t="r-"+ ++s.lastContainerBoundingRectCacheId,e.__tabsterCacheId=t),s.containerBoundingRectCache[t]={rect:f,element:e},s.containerBoundingRectCacheTimer||(s.containerBoundingRectCacheTimer=window.setTimeout(()=>{s.containerBoundingRectCacheTimer=void 0;for(const h of Object.keys(s.containerBoundingRectCache))delete s.containerBoundingRectCache[h].element.__tabsterCacheId;s.containerBoundingRectCache={}},50)),f}function St(r,e,t){const s=Xt(e);if(!s)return!1;const i=_t(r,s),n=e.getBoundingClientRect(),o=n.height*(1-t),l=Math.max(0,i.top-n.top),a=Math.max(0,n.bottom-i.bottom),u=l+a;return u===0||u<=o}function ys(r,e,t){const s=Xt(e);if(s){const i=_t(r,s),n=e.getBoundingClientRect();t?s.scrollTop+=n.top-i.top:s.scrollTop+=n.bottom-i.bottom}}function Xt(r){const e=r.ownerDocument;if(e){for(let t=w.getParentElement(r);t;t=w.getParentElement(t))if(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)return t;return e.documentElement}return null}function Es(r){r.__shouldIgnoreFocus=!0}function kt(r){return!!r.__shouldIgnoreFocus}function Pt(r){const e=new Uint32Array(4);if(r.crypto&&r.crypto.getRandomValues)r.crypto.getRandomValues(e);else if(r.msCrypto&&r.msCrypto.getRandomValues)r.msCrypto.getRandomValues(e);else for(let s=0;s<e.length;s++)e[s]=4294967295*Math.random();const t=[];for(let s=0;s<e.length;s++)t.push(e[s].toString(36));return t.push("|"),t.push((++gs).toString(36)),t.push("|"),t.push(Date.now().toString(36)),t.join("")}function ut(r,e){const t=tt(r);let s=e.__tabsterElementUID;return s||(s=e.__tabsterElementUID=Pt(r())),!t.elementByUId[s]&&ft(e.ownerDocument,e)&&(t.elementByUId[s]=new We(r,e)),s}function dt(r){let e=r.__tabsterCrossOriginWindowUID;return e||(e=r.__tabsterCrossOriginWindowUID=Pt(r)),e}function Jt(r,e){const t=tt(r);for(const s of Object.keys(t.elementByUId)){const i=t.elementByUId[s],n=i&&i.get();n&&e&&!w.nodeContains(e,n)||delete t.elementByUId[s]}}function ft(r,e){return w.nodeContains(r?.body,e)}function Zt(r,e){const t=r.matches||r.matchesSelector||r.msMatchesSelector||r.webkitMatchesSelector;return t&&t.call(r,e)}function qe(r){const e=tt(r);if(e.basics.Promise)return e.basics.Promise;throw new Error("No Promise defined.")}function ws(r){return r.basics.WeakRef}let Ts=0;class mt{constructor(e,t,s){const i=e.getWindow;this._tabster=e,this._element=new We(i,t),this._props={...s},this.id="i"+ ++Ts}getElement(){return this._element.get()}getProps(){return this._props}setProps(e){this._props={...e}}}class Mt{constructor(e,t,s,i,n){var o;this._focusIn=f=>{if(this._fixedTarget){const p=this._fixedTarget.get();p&&(0,S.kG)(p);return}const h=this.input;if(this.onFocusIn&&h){const p=f.relatedTarget;this.onFocusIn(this,this._isBackward(!0,h,p),p)}},this._focusOut=f=>{if(this._fixedTarget)return;this.useDefaultAction=!1;const h=this.input;if(this.onFocusOut&&h){const p=f.relatedTarget;this.onFocusOut(this,this._isBackward(!1,h,p),p)}};const l=e(),a=l.document.createElement("i");a.tabIndex=0,a.setAttribute("role","none"),a.setAttribute(ie,""),a.setAttribute("aria-hidden","true");const u=a.style;u.position="fixed",u.width=u.height="1px",u.opacity="0.001",u.zIndex="-1",u.setProperty("content-visibility","hidden"),Es(a),this.input=a,this.isFirst=s.isFirst,this.isOutside=t,this._isPhantom=(o=s.isPhantom)!==null&&o!==void 0?o:!1,this._fixedTarget=n,a.addEventListener("focusin",this._focusIn),a.addEventListener("focusout",this._focusOut),a.__tabsterDummyContainer=i,this._isPhantom&&(this._disposeTimer=l.setTimeout(()=>{delete this._disposeTimer,this.dispose()},0),this._clearDisposeTimeout=()=>{this._disposeTimer&&(l.clearTimeout(this._disposeTimer),delete this._disposeTimer),delete this._clearDisposeTimeout})}dispose(){var e;this._clearDisposeTimeout&&this._clearDisposeTimeout();const t=this.input;t&&(delete this._fixedTarget,delete this.onFocusIn,delete this.onFocusOut,delete this.input,t.removeEventListener("focusin",this._focusIn),t.removeEventListener("focusout",this._focusOut),delete t.__tabsterDummyContainer,(e=w.getParentNode(t))===null||e===void 0||e.removeChild(t))}setTopLeft(e,t){var s;const i=(s=this.input)===null||s===void 0?void 0:s.style;i&&(i.top=`${e}px`,i.left=`${t}px`)}_isBackward(e,t,s){return e&&!s?!this.isFirst:!!(s&&t.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING)}}const Ot={Root:1,Modalizer:2,Mover:3,Groupper:4};class gt{constructor(e,t,s,i,n,o){this._element=t,this._instance=new m(e,t,this,s,i,n,o)}_setHandlers(e,t){this._onFocusIn=e,this._onFocusOut=t}moveOut(e){var t;(t=this._instance)===null||t===void 0||t.moveOut(e)}moveOutWithDefaultAction(e,t){var s;(s=this._instance)===null||s===void 0||s.moveOutWithDefaultAction(e,t)}getHandler(e){return e?this._onFocusIn:this._onFocusOut}setTabbable(e){var t;(t=this._instance)===null||t===void 0||t.setTabbable(this,e)}dispose(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}static moveWithPhantomDummy(e,t,s,i,n){const l=new Mt(e.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(l){let a,u;if(t.tagName==="BODY")a=t,u=s&&i||!s&&!i?w.getFirstElementChild(t):null;else{s&&(!i||i&&!e.focusable.isFocusable(t,!1,!0,!0))?(a=t,u=i?t.firstElementChild:null):(a=w.getParentElement(t),u=s&&i||!s&&!i?t:w.getNextElementSibling(t));let f,h;do f=s&&i||!s&&!i?w.getPreviousElementSibling(u):u,h=M(f),h===t?u=s&&i||!s&&!i?f:w.getNextElementSibling(f):h=null;while(h)}a?.dispatchEvent(new Je({by:"root",owner:a,next:null,relatedEvent:n}))&&(w.insertBefore(a,l,u),(0,S.kG)(l))}}static addPhantomDummyWithTarget(e,t,s,i){const o=new Mt(e.getWindow,!0,{isPhantom:!0,isFirst:!0},void 0,new We(e.getWindow,i)).input;if(o){let l,a;qt(t)&&!s?(l=t,a=w.getFirstElementChild(t)):(l=w.getParentElement(t),a=s?t:w.getNextElementSibling(t)),l&&w.insertBefore(l,o,a)}}}function c(r,e){var t;const s={1:"Root",2:"Modalizer",3:"Mover",4:"Groupper"};(t=r.input)===null||t===void 0||t.setAttribute(ie,[`isFirst=${r.isFirst}`,`isOutside=${r.isOutside}`,...e.map(i=>`(${s[i.priority]}, tabbable=${i.tabbable})`)].join(", "))}class d{constructor(e){this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummyElements=[],this._dummyCallbacks=new WeakMap,this._domChanged=t=>{var s;this._changedParents.has(t)||(this._changedParents.add(t),!this._updateDummyInputsTimer&&(this._updateDummyInputsTimer=(s=this._win)===null||s===void 0?void 0:s.call(this).setTimeout(()=>{delete this._updateDummyInputsTimer;for(const i of this._dummyElements){const n=i.get();if(n){const o=this._dummyCallbacks.get(n);if(o){const l=w.getParentNode(n);(!l||this._changedParents.has(l))&&o()}}}this._changedParents=new WeakSet},xt)))},this._win=e}add(e,t){!this._dummyCallbacks.has(e)&&this._win&&(this._dummyElements.push(new We(this._win,e)),this._dummyCallbacks.set(e,t),this.domChanged=this._domChanged)}remove(e){this._dummyElements=this._dummyElements.filter(t=>{const s=t.get();return s&&s!==e}),this._dummyCallbacks.delete(e),this._dummyElements.length===0&&delete this.domChanged}dispose(){var e;const t=(e=this._win)===null||e===void 0?void 0:e.call(this);this._updateTimer&&(t?.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(t?.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummyCallbacks=new WeakMap,this._dummyElements=[],this._updateQueue.clear(),delete this.domChanged,delete this._win}updatePositions(e){this._win&&(this._updateQueue.add(e),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}_scheduledUpdatePositions(){var e;this._updateTimer||(this._updateTimer=(e=this._win)===null||e===void 0?void 0:e.call(this).setTimeout(()=>{if(delete this._updateTimer,this._lastUpdateQueueTime+xt<=Date.now()){const t=new Map,s=[];for(const i of this._updateQueue)s.push(i(t));this._updateQueue.clear();for(const i of s)i();t.clear()}else this._scheduledUpdatePositions()},xt))}}class m{constructor(e,t,s,i,n,o,l){this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=(_,y,F)=>{this._onFocus(!0,_,y,F)},this._onFocusOut=(_,y,F)=>{this._onFocus(!1,_,y,F)},this.moveOut=_=>{var y;const F=this._firstDummy,I=this._lastDummy;if(F&&I){this._ensurePosition();const C=F.input,N=I.input,R=(y=this._element)===null||y===void 0?void 0:y.get();if(C&&N&&R){let oe;_?(C.tabIndex=0,oe=C):(N.tabIndex=0,oe=N),oe&&(0,S.kG)(oe)}}},this.moveOutWithDefaultAction=(_,y)=>{var F;const I=this._firstDummy,C=this._lastDummy;if(I&&C){this._ensurePosition();const N=I.input,R=C.input,oe=(F=this._element)===null||F===void 0?void 0:F.get();if(N&&R&&oe){let re;_?!I.isOutside&&this._tabster.focusable.isFocusable(oe,!0,!0,!0)?re=oe:(I.useDefaultAction=!0,N.tabIndex=0,re=N):(C.useDefaultAction=!0,R.tabIndex=0,re=R),re&&oe.dispatchEvent(new Je({by:"root",owner:oe,next:null,relatedEvent:y}))&&(0,S.kG)(re)}}},this.setTabbable=(_,y)=>{var F,I;for(const N of this._wrappers)if(N.manager===_){N.tabbable=y;break}const C=this._getCurrent();if(C){const N=C.tabbable?0:-1;let R=(F=this._firstDummy)===null||F===void 0?void 0:F.input;R&&(R.tabIndex=N),R=(I=this._lastDummy)===null||I===void 0?void 0:I.input,R&&(R.tabIndex=N)}},this._addDummyInputs=()=>{this._addTimer||(this._addTimer=this._getWindow().setTimeout(()=>{delete this._addTimer,this._ensurePosition(),this._addTransformOffsets()},0))},this._addTransformOffsets=()=>{this._tabster._dummyObserver.updatePositions(this._computeTransformOffsets)},this._computeTransformOffsets=_=>{var y,F;const I=((y=this._firstDummy)===null||y===void 0?void 0:y.input)||((F=this._lastDummy)===null||F===void 0?void 0:F.input),C=this._transformElements,N=new Set;let R=0,oe=0;const re=this._getWindow();for(let ce=I;ce&&ce.nodeType===Node.ELEMENT_NODE;ce=w.getParentElement(ce)){let _e=_.get(ce);if(_e===void 0){const ee=re.getComputedStyle(ce).transform;ee&&ee!=="none"&&(_e={scrollTop:ce.scrollTop,scrollLeft:ce.scrollLeft}),_.set(ce,_e||null)}_e&&(N.add(ce),C.has(ce)||ce.addEventListener("scroll",this._addTransformOffsets),R+=_e.scrollTop,oe+=_e.scrollLeft)}for(const ce of C)N.has(ce)||ce.removeEventListener("scroll",this._addTransformOffsets);return this._transformElements=N,()=>{var ce,_e;(ce=this._firstDummy)===null||ce===void 0||ce.setTopLeft(R,oe),(_e=this._lastDummy)===null||_e===void 0||_e.setTopLeft(R,oe)}};const a=t.get();if(!a)throw new Error("No element");this._tabster=e,this._getWindow=e.getWindow,this._callForDefaultAction=l;const u=a.__tabsterDummy;if((u||this)._wrappers.push({manager:s,priority:i,tabbable:!0}),u)return u;a.__tabsterDummy=this;const f=n?.dummyInputsPosition,h=a.tagName;this._isOutside=f?f===be.Outside:(o||h==="UL"||h==="OL"||h==="TABLE")&&!(h==="LI"||h==="TD"||h==="TH"),this._firstDummy=new Mt(this._getWindow,this._isOutside,{isFirst:!0},t),this._lastDummy=new Mt(this._getWindow,this._isOutside,{isFirst:!1},t);const p=this._firstDummy.input;p&&e._dummyObserver.add(p,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=t,this._addDummyInputs()}dispose(e,t){var s,i,n,o;if((this._wrappers=this._wrappers.filter(a=>a.manager!==e&&!t)).length===0){delete((s=this._element)===null||s===void 0?void 0:s.get()).__tabsterDummy;for(const f of this._transformElements)f.removeEventListener("scroll",this._addTransformOffsets);this._transformElements.clear();const a=this._getWindow();this._addTimer&&(a.clearTimeout(this._addTimer),delete this._addTimer);const u=(i=this._firstDummy)===null||i===void 0?void 0:i.input;u&&this._tabster._dummyObserver.remove(u),(n=this._firstDummy)===null||n===void 0||n.dispose(),(o=this._lastDummy)===null||o===void 0||o.dispose()}}_onFocus(e,t,s,i){var n;const o=this._getCurrent();o&&(!t.useDefaultAction||this._callForDefaultAction)&&((n=o.manager.getHandler(e))===null||n===void 0||n(t,s,i))}_getCurrent(){return this._wrappers.sort((e,t)=>e.tabbable!==t.tabbable?e.tabbable?-1:1:e.priority-t.priority),this._wrappers[0]}_ensurePosition(){var e,t,s;const i=(e=this._element)===null||e===void 0?void 0:e.get(),n=(t=this._firstDummy)===null||t===void 0?void 0:t.input,o=(s=this._lastDummy)===null||s===void 0?void 0:s.input;if(!(!i||!n||!o))if(this._isOutside){const l=w.getParentNode(i);if(l){const a=w.getNextSibling(i);a!==o&&w.insertBefore(l,o,a),w.getPreviousElementSibling(i)!==n&&w.insertBefore(l,n,i)}}else{w.getLastElementChild(i)!==o&&w.appendChild(i,o);const l=w.getFirstElementChild(i);l&&l!==n&&l.parentNode&&w.insertBefore(l.parentNode,n,l)}}}function g(r){let e=null;for(let t=w.getLastElementChild(r);t;t=w.getLastElementChild(t))e=t;return e||void 0}function v(r,e){let t=r,s=null;for(;t&&!s;)s=e?w.getPreviousElementSibling(t):w.getNextElementSibling(t),t=w.getParentElement(t);return s||void 0}function b(r,e,t,s){const i=r.storageEntry(e,!0);let n=!1;if(!i.aug){if(s===void 0)return n;i.aug={}}if(s===void 0){if(t in i.aug){const o=i.aug[t];delete i.aug[t],o===null?e.removeAttribute(t):e.setAttribute(t,o),n=!0}}else{let o;t in i.aug||(o=e.getAttribute(t)),o!==void 0&&o!==s&&(i.aug[t]=o,s===null?e.removeAttribute(t):e.setAttribute(t,s),n=!0)}return s===void 0&&Object.keys(i.aug).length===0&&(delete i.aug,r.storageEntry(e,!1)),n}function E(r){var e,t;const s=r.ownerDocument,i=(e=s.defaultView)===null||e===void 0?void 0:e.getComputedStyle(r);return r.offsetParent===null&&s.body!==r&&i?.position!=="fixed"||i?.visibility==="hidden"||i?.position==="fixed"&&(i.display==="none"||((t=r.parentElement)===null||t===void 0?void 0:t.offsetParent)===null&&s.body!==r.parentElement)}function D(r){return r.tagName==="INPUT"&&!!r.name&&r.type==="radio"}function W(r){if(!D(r))return;const e=r.name;let t=Array.from(w.getElementsByName(r,e)),s;return t=t.filter(i=>D(i)?(i.checked&&(s=i),!0):!1),{name:e,buttons:new Set(t),checked:s}}function M(r){var e;return((e=r?.__tabsterDummyContainer)===null||e===void 0?void 0:e.get())||null}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function G(r,e){const t=JSON.stringify(r);return e===!0?t:{[te]:t}}function L(r,e){for(const t of Object.keys(e)){const s=e[t];s?r[t]=s:delete r[t]}}function J(r,e,t){let s;if(t){const i=r.getAttribute(te);if(i)try{s=JSON.parse(i)}catch{}}s||(s={}),L(s,e),Object.keys(s).length>0?r.setAttribute(te,G(s,!0)):r.removeAttribute(te)}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function K(r,e,t){}class se extends gt{constructor(e,t,s,i){super(e,t,Ot.Root,i,void 0,!0),this._onDummyInputFocus=n=>{var o;if(n.useDefaultAction)this._setFocused(!1);else{this._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);const l=this._element.get();if(l){this._setFocused(!0);const a=this._tabster.focusedElement.getFirstOrLastTabbable(n.isFirst,{container:l,ignoreAccessibility:!0});if(a){(0,S.kG)(a);return}}(o=n.input)===null||o===void 0||o.blur()}},this._setHandlers(this._onDummyInputFocus),this._tabster=e,this._setFocused=s}}class le extends mt{constructor(e,t,s,i,n){super(e,t,i),this._isFocused=!1,this._setFocused=u=>{var f;if(this._setFocusedTimer&&(this._tabster.getWindow().clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._isFocused===u)return;const h=this._element.get();h&&(u?(this._isFocused=!0,(f=this._dummyManager)===null||f===void 0||f.setTabbable(!1),h.dispatchEvent(new nt({element:h}))):this._setFocusedTimer=this._tabster.getWindow().setTimeout(()=>{var p;delete this._setFocusedTimer,this._isFocused=!1,(p=this._dummyManager)===null||p===void 0||p.setTabbable(!0),h.dispatchEvent(new Kt({element:h}))},0))},this._onFocusIn=u=>{const f=this._tabster.getParent,h=this._element.get();let p=u.composedPath()[0];do{if(p===h){this._setFocused(!0);return}p=p&&f(p)}while(p)},this._onFocusOut=()=>{this._setFocused(!1)},this._onDispose=s;const o=e.getWindow;this.uid=ut(o,t),this._sys=n,(e.controlTab||e.rootDummyInputs)&&this.addDummyInputs();const a=o().document;a.addEventListener(S.Oy,this._onFocusIn),a.addEventListener(S.RY,this._onFocusOut),this._add()}addDummyInputs(){this._dummyManager||(this._dummyManager=new se(this._tabster,this._element,this._setFocused,this._sys))}dispose(){var e;this._onDispose(this);const t=this._tabster.getWindow(),s=t.document;s.removeEventListener(S.Oy,this._onFocusIn),s.removeEventListener(S.RY,this._onFocusOut),this._setFocusedTimer&&(t.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),(e=this._dummyManager)===null||e===void 0||e.dispose(),this._remove()}moveOutWithDefaultAction(e,t){const s=this._dummyManager;if(s)s.moveOutWithDefaultAction(e,t);else{const i=this.getElement();i&&se.moveWithPhantomDummy(this._tabster,i,!0,e,t)}}_add(){}_remove(){}}class A{constructor(e,t){this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=()=>{var s;const i=this._win().document,n=i.body;if(n){this._autoRootUnwait(i);const o=this._autoRoot;if(o)return J(n,{root:o},!0),O(this._tabster,n),(s=V(this._tabster,n))===null||s===void 0?void 0:s.root}else this._autoRootWaiting||(this._autoRootWaiting=!0,i.addEventListener("readystatechange",this._autoRootCreate))},this._onRootDispose=s=>{delete this._roots[s.id]},this._tabster=e,this._win=e.getWindow,this._autoRoot=t,e.queueInit(()=>{this._autoRoot&&this._autoRootCreate()})}_autoRootUnwait(e){e.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}dispose(){const e=this._win();this._autoRootUnwait(e.document),delete this._autoRoot,Object.keys(this._roots).forEach(t=>{this._roots[t]&&(this._roots[t].dispose(),delete this._roots[t])}),this.rootById={}}createRoot(e,t,s){const i=new le(this._tabster,e,this._onRootDispose,t,s);return this._roots[i.id]=i,this._forceDummy&&i.addDummyInputs(),i}addDummyInputs(){this._forceDummy=!0;const e=this._roots;for(const t of Object.keys(e))e[t].addDummyInputs()}static getRootByUId(e,t){const s=e().__tabsterInstance;return s&&s.root.rootById[t]}static getTabsterContext(e,t,s){s===void 0&&(s={});var i,n,o,l;if(!t.ownerDocument)return;const{checkRtl:a,referenceElement:u}=s,f=e.getParent;e.drainInitQueue();let h,p,_,y,F=!1,I,C,N,R,oe=u||t;const re={};for(;oe&&(!h||a);){const _e=V(e,oe);if(a&&N===void 0){const Lt=oe.dir;Lt&&(N=Lt.toLowerCase()==="rtl")}if(!_e){oe=f(oe);continue}const ee=oe.tagName;(_e.uncontrolled||ee==="IFRAME"||ee==="WEBVIEW")&&e.focusable.isVisible(oe)&&(R=oe),!y&&(!((i=_e.focusable)===null||i===void 0)&&i.excludeFromMover)&&!_&&(F=!0);const me=_e.modalizer,ke=_e.groupper,It=_e.mover;!p&&me&&(p=me),!_&&ke&&(!p||me)&&(p?(!ke.isActive()&&ke.getProps().tabbability&&p.userId!==((n=e.modalizer)===null||n===void 0?void 0:n.activeId)&&(p=void 0,_=ke),C=ke):_=ke),!y&&It&&(!p||me)&&(!ke||oe!==t)&&oe.contains(t)&&(y=It,I=!!_&&_!==ke),_e.root&&(h=_e.root),!((o=_e.focusable)===null||o===void 0)&&o.ignoreKeydown&&Object.assign(re,_e.focusable.ignoreKeydown),oe=f(oe)}if(!h){const _e=e.root;_e._autoRoot&&!((l=t.ownerDocument)===null||l===void 0)&&l.body&&(h=_e._autoRootCreate())}return _&&!y&&(I=!0),h?{root:h,modalizer:p,groupper:_,mover:y,groupperBeforeMover:I,modalizerInGroupper:C,rtl:a?!!N:void 0,uncontrolled:R,excludedFromMover:F,ignoreKeydown:_e=>!!re[_e.key]}:void 0}static getRoot(e,t){var s;const i=e.getParent;for(let n=t;n;n=i(n)){const o=(s=V(e,n))===null||s===void 0?void 0:s.root;if(o)return o}}onRoot(e,t){t?delete this.rootById[e.uid]:this.rootById[e.uid]=e}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const ae=10;class de{}class he extends de{constructor(e,t){super(),this.uid=t.uid,this._tabster=e,this._deloser=t}belongsTo(e){return e===this._deloser}unshift(e){this._deloser.unshift(e)}async focusAvailable(){const e=this._deloser.findAvailable(),t=this._deloser.getElement();return e&&t?t.dispatchEvent(new Je({by:"deloser",owner:t,next:e}))?this._tabster.focusedElement.focus(e):null:!1}async resetFocus(){const e=this._tabster.getWindow;return qe(e).resolve(this._deloser.resetFocus())}}class ye{constructor(e,t){this._history=[],this._tabster=e,this.rootUId=t}getLength(){return this._history.length}removeDeloser(e){this._history=this._history.filter(t=>!t.belongsTo(e))}hasDeloser(e){return this._history.some(t=>t.belongsTo(e))}}class ge extends ye{unshiftToDeloser(e,t){let s;for(let i=0;i<this._history.length;i++)if(this._history[i].belongsTo(e)){s=this._history[i],this._history.splice(i,1);break}s||(s=new he(this._tabster,e)),s.unshift(t),this._history.unshift(s),this._history.splice(ae,this._history.length-ae)}async focusAvailable(e){let t=!!e;for(const s of this._history)if(e&&s.belongsTo(e)&&(t=!1),!t){const i=await s.focusAvailable();if(i||i===null)return i}return!1}async resetFocus(e){let t=!!e;const s={};for(const i of this._history)e&&i.belongsTo(e)&&(t=!1),!t&&!s[i.uid]&&(s[i.uid]=i);for(const i of Object.keys(s))if(await s[i].resetFocus())return!0;return!1}}class Ce{constructor(e){this._history=[],this._tabster=e}dispose(){this._history=[]}process(e){var t;const s=A.getTabsterContext(this._tabster,e),i=s&&s.root.uid,n=Ee.getDeloser(this._tabster,e);if(!i||!n)return;const o=this.make(i,()=>new ge(this._tabster,i));return(!s||!s.modalizer||!((t=s.modalizer)===null||t===void 0)&&t.isActive())&&o.unshiftToDeloser(n,e),n}make(e,t){let s;for(let i=0;i<this._history.length;i++){const n=this._history[i];if(n.rootUId===e){s=n,this._history.splice(i,1);break}}return s||(s=t()),this._history.unshift(s),this._history.splice(ae,this._history.length-ae),s}removeDeloser(e){this._history.forEach(t=>{t.removeDeloser(e)}),this._history=this._history.filter(t=>t.getLength()>0)}async focusAvailable(e){let t=!!e;for(const s of this._history)if(e&&s.hasDeloser(e)&&(t=!1),!t){const i=await s.focusAvailable(e);if(i||i===null)return i}return!1}async resetFocus(e){let t=!!e;for(const s of this._history)if(e&&s.hasDeloser(e)&&(t=!1),!t&&await s.resetFocus(e))return!0;return!1}}function Oe(r,e,t,s){}function He(r,e,t){const s=[],i=/(:|\.|\[|\]|,|=|@)/g,n="\\$1",o=r.getAttribute("id");o&&s.push("#"+o.replace(i,n)),e!==!1&&r.className&&r.className.split(" ").forEach(u=>{u=u.trim(),u&&s.push("."+u.replace(i,n))});let l=0,a;if(t!==!1&&s.length===0){for(a=r;a;)l++,a=a.previousElementSibling;s.unshift(":nth-child("+l+")")}return s.unshift(r.tagName.toLowerCase()),s.join("")}function Ue(r){if(!ft(r.ownerDocument,r))return;const e=[He(r)];let t=w.getParentNode(r);for(;t&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE;){if(t.nodeType===Node.ELEMENT_NODE){const s=t.tagName==="BODY";if(e.unshift(He(t,!1,!s)),s)break}t=w.getParentNode(t)}return e.join(" ")}class ve extends mt{constructor(e,t,s,i){super(e,t,i),this._isActive=!1,this._history=[[]],this._snapshotIndex=0,this.isActive=()=>this._isActive,this.setSnapshot=n=>{this._snapshotIndex=n,this._history.length>n+1&&this._history.splice(n+1,this._history.length-n-1),this._history[n]||(this._history[n]=[])},this.focusFirst=()=>{const n=this._element.get();return!!n&&this._tabster.focusedElement.focusFirst({container:n})},this.focusDefault=()=>{const n=this._element.get();return!!n&&this._tabster.focusedElement.focusDefault(n)},this.resetFocus=()=>{const n=this._element.get();return!!n&&this._tabster.focusedElement.resetFocus(n)},this.clearHistory=n=>{const o=this._element.get();if(!o){this._history[this._snapshotIndex]=[];return}this._history[this._snapshotIndex]=this._history[this._snapshotIndex].filter(l=>{const a=l.get();return a&&n?w.nodeContains(o,a):!1})},this.uid=ut(e.getWindow,t),this.strategy=i.strategy||ne.Auto,this._onDispose=s}dispose(){this._remove(),this._onDispose(this),this._isActive=!1,this._snapshotIndex=0,this._props={},this._history=[]}setActive(e){this._isActive=e}getActions(){return{focusDefault:this.focusDefault,focusFirst:this.focusFirst,resetFocus:this.resetFocus,clearHistory:this.clearHistory,setSnapshot:this.setSnapshot,isActive:this.isActive}}unshift(e){let t=this._history[this._snapshotIndex];for(t=this._history[this._snapshotIndex]=t.filter(s=>{const i=s.get();return i&&i!==e}),t.unshift(new We(this._tabster.getWindow,e,Ue(e)));t.length>ae;)t.pop()}findAvailable(){const e=this._element.get();if(!e||!this._tabster.focusable.isVisible(e))return null;let t=this._props.restoreFocusOrder,s=null;const i=A.getTabsterContext(this._tabster,e);if(!i)return null;const n=i.root,o=n.getElement();if(!o)return null;if(t===void 0&&(t=n.getProps().restoreFocusOrder),t===X.RootDefault&&(s=this._tabster.focusable.findDefault({container:o})),!s&&t===X.RootFirst&&(s=this._findFirst(o)),s)return s;const l=this._findInHistory();if(l&&t===X.History)return l;const a=this._tabster.focusable.findDefault({container:e});if(a&&t===X.DeloserDefault)return a;const u=this._findFirst(e);return u&&t===X.DeloserFirst?u:a||l||u||null}customFocusLostHandler(e){return e.dispatchEvent(new Ft(this.getActions()))}_findInHistory(){const e=this._history[this._snapshotIndex].slice(0);this.clearHistory(!0);for(let t=0;t<e.length;t++){const s=e[t],i=s.get(),n=this._element.get();if(i&&n&&w.nodeContains(n,i)){if(this._tabster.focusable.isFocusable(i))return i}else if(!this._props.noSelectorCheck){const o=s.getData();if(o&&n){let l;try{l=w.querySelectorAll(n.ownerDocument,o)}catch{continue}for(let a=0;a<l.length;a++){const u=l[a];if(u&&this._tabster.focusable.isFocusable(u))return u}}}}return null}_findFirst(e){if(this._tabster.keyboardNavigation.isNavigatingWithKeyboard()){const t=this._tabster.focusable.findFirst({container:e,useActiveModalizer:!0});if(t)return t}return null}_remove(){}}class Ee{constructor(e,t){this._inDeloser=!1,this._isRestoringFocus=!1,this._isPaused=!1,this._onRestoreFocus=i=>{var n;const o=i.composedPath()[0];if(o){const l=(n=Ee.getDeloser(this._tabster,o))===null||n===void 0?void 0:n.findAvailable();l&&this._tabster.focusedElement.focus(l),i.stopImmediatePropagation()}},this._onFocus=i=>{if(this._restoreFocusTimer&&(this._win().clearTimeout(this._restoreFocusTimer),this._restoreFocusTimer=void 0),!i){this._scheduleRestoreFocus();return}const n=this._history.process(i);n?this._activate(n):this._deactivate()},this._onDeloserDispose=i=>{this._history.removeDeloser(i),i.isActive()&&this._scheduleRestoreFocus()},this._tabster=e,this._win=e.getWindow,this._history=new Ce(e),e.queueInit(()=>{this._tabster.focusedElement.subscribe(this._onFocus);const i=this._win().document;i.addEventListener(Me,this._onRestoreFocus);const n=w.getActiveElement(i);n&&n!==i.body&&this._onFocus(n)});const s=t?.autoDeloser;s&&(this._autoDeloser=s)}dispose(){const e=this._win();this._restoreFocusTimer&&(e.clearTimeout(this._restoreFocusTimer),this._restoreFocusTimer=void 0),this._autoDeloserInstance&&(this._autoDeloserInstance.dispose(),delete this._autoDeloserInstance,delete this._autoDeloser),this._tabster.focusedElement.unsubscribe(this._onFocus),e.document.removeEventListener(Me,this._onRestoreFocus),this._history.dispose(),delete this._curDeloser}createDeloser(e,t){var s;const i=new ve(this._tabster,e,this._onDeloserDispose,t);return w.nodeContains(e,(s=this._tabster.focusedElement.getFocusedElement())!==null&&s!==void 0?s:null)&&this._activate(i),i}getActions(e){for(let t=e;t;t=w.getParentElement(t)){const s=V(this._tabster,t);if(s&&s.deloser)return s.deloser.getActions()}}pause(){this._isPaused=!0,this._restoreFocusTimer&&(this._win().clearTimeout(this._restoreFocusTimer),this._restoreFocusTimer=void 0)}resume(e){this._isPaused=!1,e&&this._scheduleRestoreFocus()}_activate(e){const t=this._curDeloser;t!==e&&(this._inDeloser=!0,t?.setActive(!1),e.setActive(!0),this._curDeloser=e)}_deactivate(){var e;this._inDeloser=!1,(e=this._curDeloser)===null||e===void 0||e.setActive(!1),this._curDeloser=void 0}_scheduleRestoreFocus(e){if(this._isPaused||this._isRestoringFocus)return;const t=async()=>{this._restoreFocusTimer=void 0;const s=this._tabster.focusedElement.getLastFocusedElement();if(!e&&(this._isRestoringFocus||!this._inDeloser||s&&!E(s)))return;const i=this._curDeloser;let n=!1;if(i){if(s&&i.customFocusLostHandler(s))return;if(i.strategy===ne.Manual)n=!0;else{const o=i.getElement(),l=i.findAvailable();if(l&&(!o?.dispatchEvent(new Je({by:"deloser",owner:o,next:l}))||this._tabster.focusedElement.focus(l)))return}}this._deactivate(),!n&&(this._isRestoringFocus=!0,await this._history.focusAvailable(null)===!1&&await this._history.resetFocus(null),this._isRestoringFocus=!1)};e?t():this._restoreFocusTimer=this._win().setTimeout(t,100)}static getDeloser(e,t){var s;let i;for(let o=t;o;o=w.getParentElement(o)){const l=V(e,o);if(l){i||(i=l.root);const a=l.deloser;if(a)return a}}const n=e.deloser&&e.deloser;if(n){if(n._autoDeloserInstance)return n._autoDeloserInstance;const o=n._autoDeloser;if(i&&!n._autoDeloserInstance&&o){const l=(s=t.ownerDocument)===null||s===void 0?void 0:s.body;l&&(n._autoDeloserInstance=new ve(e,l,e.deloser._onDeloserDispose,o))}return n._autoDeloserInstance}}static getHistory(e){return e._history}static forceRestoreFocus(e){e._scheduleRestoreFocus(!0)}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Ae{constructor(){this._callbacks=[]}dispose(){this._callbacks=[],delete this._val}subscribe(e){const t=this._callbacks;t.indexOf(e)<0&&t.push(e)}subscribeFirst(e){const t=this._callbacks,s=t.indexOf(e);s>=0&&t.splice(s,1),t.unshift(e)}unsubscribe(e){const t=this._callbacks.indexOf(e);t>=0&&this._callbacks.splice(t,1)}setVal(e,t){this._val!==e&&(this._val=e,this._callCallbacks(e,t))}getVal(){return this._val}trigger(e,t){this._callCallbacks(e,t)}_callCallbacks(e,t){this._callbacks.forEach(s=>s(e,t))}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const ze=1500,Se=3e3,Ie="up",Te={Bootstrap:1,FocusElement:2,State:3,GetElement:4,RestoreFocusInDeloser:5,Ping:6};class Ye extends de{constructor(e,t,s){super(),this._deloser=t,this._transactions=s}belongsTo(e){return e.deloserUId===this._deloser.deloserUId}async focusAvailable(){const e={...this._deloser,reset:!1};return this._transactions.beginTransaction(Fs,e).then(t=>!!t)}async resetFocus(){const e={...this._deloser,reset:!0};return this._transactions.beginTransaction(Fs,e).then(t=>!!t)}}class st extends ye{constructor(e,t,s){super(e,t),this._transactions=s}unshift(e){let t;for(let s=0;s<this._history.length;s++)if(this._history[s].belongsTo(e)){t=this._history[s],this._history.splice(s,1);break}t||(t=new Ye(this._tabster,e,this._transactions)),this._history.unshift(t),this._history.splice(10,this._history.length-10)}async focusAvailable(){for(const e of this._history)if(await e.focusAvailable())return!0;return!1}async resetFocus(){for(const e of this._history)if(await e.resetFocus())return!0;return!1}}class Ve{constructor(e,t,s,i,n,o,l,a){this._inProgress={},this._isDone=!1,this._isSelfResponding=!1,this._sentCount=0,this.tabster=e,this.owner=t,this.ownerId=dt(t()),this.id=Pt(t()),this.beginData=i,this._knownTargets=s,this._sentTo=o||{[this.ownerId]:!0},this.targetId=l,this.sendUp=a,this.timeout=n,this._promise=new(qe(t))((u,f)=>{this._resolve=u,this._reject=f})}getTargets(e){return this.targetId===Ie?this.sendUp?{[Ie]:{send:this.sendUp}}:null:this.targetId?e[this.targetId]?{[this.targetId]:{send:e[this.targetId].send}}:null:Object.keys(e).length===0&&this.sendUp?{[Ie]:{send:this.sendUp}}:Object.keys(e).length>0?e:null}begin(e){const t=this.getTargets(this._knownTargets),s={...this._sentTo};if(t)for(const n of Object.keys(t))s[n]=!0;const i={transaction:this.id,type:this.type,isResponse:!1,timestamp:Date.now(),owner:this.ownerId,sentto:s,timeout:this.timeout,beginData:this.beginData};if(this.targetId&&(i.target=this.targetId),e&&(this._isSelfResponding=!0,e(i).then(n=>{this._isSelfResponding=!1,n!==void 0&&(this.endData||(this.endData=n)),(this.endData||this._sentCount===0)&&this.end()})),t)for(const n of Object.keys(t))n in this._sentTo||this._send(t[n].send,n,i);return this._sentCount===0&&!this._isSelfResponding&&this.end(),this._promise}_send(e,t,s){this._inProgress[t]===void 0&&(this._inProgress[t]=!0,this._sentCount++,e(s))}end(e){this._isDone||(this._isDone=!0,this.endData===void 0&&e?this._reject&&this._reject(e):this._resolve&&this._resolve(this.endData))}onResponse(e){const t=e.endData;t!==void 0&&!this.endData&&(this.endData=t);const s=e.target===Ie?Ie:e.owner;this._inProgress[s]&&(this._inProgress[s]=!1,this._sentCount--,(this.endData||this._sentCount===0&&!this._isSelfResponding)&&this.end())}}class es extends Ve{constructor(){super(...arguments),this.type=Te.Bootstrap}static shouldForward(){return!1}static async makeResponse(e){return{isNavigatingWithKeyboard:e.keyboardNavigation.isNavigatingWithKeyboard()}}}class Vs extends Ve{constructor(){super(...arguments),this.type=Te.FocusElement}static shouldSelfRespond(){return!0}static shouldForward(e,t,s){const i=rt.findElement(e,s,t.beginData);return!i||!e.focusable.isFocusable(i)}static async makeResponse(e,t,s,i,n,o){const l=rt.findElement(e,s,t.beginData);return!!l&&e.focusedElement.focus(l,!0)||!!await o}}const je={Focused:1,Blurred:2,Observed:3,DeadWindow:4,KeyboardNavigation:5,Outline:6};class Le extends Ve{constructor(){super(...arguments),this.type=Te.State}static shouldSelfRespond(e,t){return t.state!==je.DeadWindow&&t.state!==je.KeyboardNavigation}static async makeResponse(e,t,s,i,n,o,l){const a=t.timestamp,u=t.beginData;if(a&&u)switch(u.state){case je.Focused:return Le._makeFocusedResponse(e,a,u,n,l);case je.Blurred:return Le._makeBlurredResponse(e,a,u,n.ctx);case je.Observed:return Le._makeObservedResponse(e,u);case je.DeadWindow:return Le._makeDeadWindowResponse(e,u,n,o);case je.KeyboardNavigation:return Le._makeKeyboardNavigationResponse(e,n.ctx,u.isNavigatingWithKeyboard);case je.Outline:return Le._makeOutlineResponse(e,n.ctx,u.outline)}return!0}static createElement(e,t){return t.uid?new fi(e,t.uid,t.ownerUId,t.id,t.rootUId,t.observedName,t.observedDetails):null}static async _makeFocusedResponse(e,t,s,i,n){const o=Le.createElement(e,s);if(s&&s.ownerUId&&o){if(i.ctx.focusOwner=s.ownerUId,i.ctx.focusOwnerTimestamp=t,!n&&s.rootUId&&s.deloserUId){const l=e.deloser;if(l){const a=Ee.getHistory(l),u={ownerUId:s.ownerUId,deloserUId:s.deloserUId,rootUId:s.rootUId};a.make(s.rootUId,()=>new st(e,u.rootUId,i)).unshift(u)}}Cs.setVal(e.crossOrigin.focusedElement,o,{isFocusedProgrammatically:s.isFocusedProgrammatically})}return!0}static async _makeBlurredResponse(e,t,s,i){return s&&(s.ownerUId===i.focusOwner||s.force)&&(!i.focusOwnerTimestamp||i.focusOwnerTimestamp<t)&&Cs.setVal(e.crossOrigin.focusedElement,void 0,{}),!0}static async _makeObservedResponse(e,t){const s=t.observedName,i=Le.createElement(e,t);return s&&i&&Gs.trigger(e.crossOrigin.observedElement,i,{names:[s],details:t.observedDetails}),!0}static async _makeDeadWindowResponse(e,t,s,i){const n=t&&t.ownerUId;return n&&s.removeTarget(n),i.then(()=>{if(n===s.ctx.focusOwner){const o=e.deloser;o&&Ee.forceRestoreFocus(o)}return!0})}static async _makeKeyboardNavigationResponse(e,t,s){return s!==void 0&&e.keyboardNavigation.isNavigatingWithKeyboard()!==s&&(t.ignoreKeyboardNavigationStateUpdate=!0,e.keyboardNavigation.setNavigatingWithKeyboard(s),t.ignoreKeyboardNavigationStateUpdate=!1),!0}static async _makeOutlineResponse(e,t,s){return t.origOutlineSetup&&t.origOutlineSetup.call(e.outline,s),!0}}class rt extends Ve{constructor(){super(...arguments),this.type=Te.GetElement}static shouldSelfRespond(){return!0}static findElement(e,t,s){let i;if(s&&(!s.ownerId||s.ownerId===dt(t())))if(s.id){if(i=w.getElementById(t().document,s.id),i&&s.rootId){const n=A.getTabsterContext(e,i);if(!n||n.root.uid!==s.rootId)return null}}else if(s.uid){const n=tt(t).elementByUId[s.uid];i=n&&n.get()}else s.observedName&&(i=e.observedElement.getElement(s.observedName,s.accessibility));return i||null}static getElementData(e,t,s,i,n){const o=Ee.getDeloser(e,t),l=A.getTabsterContext(e,t),a=V(e,t),u=a&&a.observed;return{uid:ut(s,t),ownerUId:n,id:t.id||void 0,rootUId:l?l.root.uid:void 0,deloserUId:o?_i(s,i,o):void 0,observedName:u&&u.names&&u.names[0],observedDetails:u&&u.details}}static async makeResponse(e,t,s,i,n,o){const l=t.beginData;let a,u;if(l===void 0?a=e.focusedElement.getFocusedElement():l&&(a=rt.findElement(e,s,l)||void 0),!a&&l){const f=l.observedName,h=t.timeout,p=l.accessibility;if(f&&h){const _=await new(qe(s))(y=>{let F=!1,I=!1,C=!1;e.observedElement.waitElement(f,h,p).result.then(N=>{F=!0,!C&&(N||I)&&(C=!0,y({element:N}))}),o.then(N=>{I=!0,!C&&(N||F)&&(C=!0,y({crossOrigin:N}))})});_.element?a=_.element:_.crossOrigin&&(u=_.crossOrigin)}}return a?rt.getElementData(e,a,s,n.ctx,i):u}}class Fs extends Ve{constructor(){super(...arguments),this.type=Te.RestoreFocusInDeloser}static async makeResponse(e,t,s,i,n,o){const l=await o,a=!l&&t.beginData,u=a&&a.deloserUId,f=u&&n.ctx.deloserByUId[u],h=e.deloser;if(a&&f&&h){const p=Ee.getHistory(h);return a.reset?p.resetFocus(f):p.focusAvailable(f)}return!!l}}class js extends Ve{constructor(){super(...arguments),this.type=Te.Ping}static shouldForward(){return!1}static async makeResponse(){return!0}}class di{constructor(e,t,s){this._knownTargets={},this._transactions={},this._isDefaultSendUp=!1,this.isSetUp=!1,this._onMessage=i=>{if(i.data.owner===this._ownerUId||!this._tabster)return;const n=i.data;let o;if(!n||!(o=n.transaction)||!n.type||!n.timestamp||!n.owner||!n.sentto)return;let l=this._knownTargets[n.owner];if(!l&&i.send&&n.owner!==this._ownerUId&&(l=this._knownTargets[n.owner]={send:i.send}),l&&(l.last=Date.now()),n.isResponse){const a=this._transactions[o];a&&a.transaction&&a.transaction.type===n.type&&a.transaction.onResponse(n)}else{const a=this._getTransactionClass(n.type),u=this.forwardTransaction(n);a&&i.send&&a.makeResponse(this._tabster,n,this._owner,this._ownerUId,this,u,!1).then(f=>{const h={transaction:n.transaction,type:n.type,isResponse:!0,timestamp:Date.now(),owner:this._ownerUId,timeout:n.timeout,sentto:{},target:n.target===Ie?Ie:n.owner,endData:f};i.send(h)})}},this._onPageHide=()=>{this._dead()},this._onBrowserMessage=i=>{if(i.source===this._owner())return;const n=o=>{i.source&&i.source.postMessage&&i.source.postMessage(JSON.stringify(o),"*")};try{this._onMessage({data:JSON.parse(i.data),send:n})}catch{}},this._tabster=e,this._owner=t,this._ownerUId=dt(t()),this.ctx=s}setup(e){return this.isSetUp||(this.isSetUp=!0,this.setSendUp(e),this._owner().addEventListener("pagehide",this._onPageHide),this._ping()),this._onMessage}setSendUp(e){if(!this.isSetUp)throw new Error("CrossOrigin is not set up.");this.sendUp=e||void 0;const t=this._owner();return e===void 0?this._isDefaultSendUp||t.document&&(this._isDefaultSendUp=!0,t.parent&&t.parent!==t&&t.parent.postMessage&&(this.sendUp=s=>{t.parent.postMessage(JSON.stringify(s),"*")}),t.addEventListener("message",this._onBrowserMessage)):this._isDefaultSendUp&&(t.removeEventListener("message",this._onBrowserMessage),this._isDefaultSendUp=!1),this._onMessage}async dispose(){const e=this._owner();this._pingTimer&&(e.clearTimeout(this._pingTimer),this._pingTimer=void 0),e.removeEventListener("message",this._onBrowserMessage),e.removeEventListener("pagehide",this._onPageHide),await this._dead(),delete this._deadPromise;for(const t of Object.keys(this._transactions)){const s=this._transactions[t];s.timer&&(e.clearTimeout(s.timer),delete s.timer),s.transaction.end()}this._knownTargets={},delete this.sendUp}beginTransaction(e,t,s,i,n,o){if(!this._owner)return qe(this._owner).reject();const l=new e(this._tabster,this._owner,this._knownTargets,t,s,i,n,this.sendUp);let a;return e.shouldSelfRespond&&e.shouldSelfRespond(this._tabster,t,this._owner,this._ownerUId)&&(a=u=>e.makeResponse(this._tabster,u,this._owner,this._ownerUId,this,qe(this._owner).resolve(void 0),!0)),this._beginTransaction(l,s,a,o)}removeTarget(e){delete this._knownTargets[e]}_beginTransaction(e,t,s,i){const n=this._owner(),o={transaction:e,timer:n.setTimeout(()=>{delete o.timer,e.end("Cross origin transaction timed out.")},ze+(t||0))};this._transactions[e.id]=o;const l=e.begin(s);return l.catch(()=>{}).finally(()=>{o.timer&&n.clearTimeout(o.timer),delete this._transactions[e.id]}),l.then(a=>a,i?void 0:()=>{})}forwardTransaction(e){const t=this._owner;let s=e.target;if(s===this._ownerUId)return qe(t).resolve();const i=this._getTransactionClass(e.type);if(i)if(i.shouldForward===void 0||i.shouldForward(this._tabster,e,t,this._ownerUId)){const n=e.sentto;return s===Ie&&(s=void 0,n[this._ownerUId]=!0),delete n[Ie],this._beginTransaction(new i(this._tabster,t,this._knownTargets,e.beginData,e.timeout,n,s,this.sendUp),e.timeout)}else return qe(t).resolve();return qe(t).reject(`Unknown transaction type ${e.type}`)}_getTransactionClass(e){switch(e){case Te.Bootstrap:return es;case Te.FocusElement:return Vs;case Te.State:return Le;case Te.GetElement:return rt;case Te.RestoreFocusInDeloser:return Fs;case Te.Ping:return js;default:return null}}async _dead(){!this._deadPromise&&this.ctx.focusOwner===this._ownerUId&&(this._deadPromise=this.beginTransaction(Le,{ownerUId:this._ownerUId,state:je.DeadWindow})),this._deadPromise&&await this._deadPromise}async _ping(){if(this._pingTimer)return;let e;const t=Date.now(),s=Object.keys(this._knownTargets).filter(i=>t-(this._knownTargets[i].last||0)>Se);if(this.sendUp&&s.push(Ie),s.length&&await qe(this._owner).all(s.map(i=>this.beginTransaction(js,void 0,void 0,void 0,i,!0).then(()=>!0,()=>(i!==Ie&&(e||(e={}),e[i]=!0,delete this._knownTargets[i]),!1)))),e&&!await this.beginTransaction(rt,void 0)&&this.ctx.focusOwner&&this.ctx.focusOwner in e){await this.beginTransaction(Le,{ownerUId:this._ownerUId,state:je.Blurred,force:!0});const n=this._tabster.deloser;n&&Ee.forceRestoreFocus(n)}this._pingTimer=this._owner().setTimeout(()=>{this._pingTimer=void 0,this._ping()},Se)}}class fi{constructor(e,t,s,i,n,o,l){this._tabster=e,this.uid=t,this.ownerId=s,this.id=i,this.rootId=n,this.observedName=o,this.observedDetails=l}focus(e,t){return this._tabster.crossOrigin.focusedElement.focus(this,e,t)}}class Cs extends Ae{constructor(e){super(),this._transactions=e}async focus(e,t,s){return this._focus({uid:e.uid,id:e.id,rootId:e.rootId,ownerId:e.ownerId,observedName:e.observedName},t,s)}async focusById(e,t,s,i){return this._focus({id:e,rootId:t},s,i)}async focusByObservedName(e,t,s,i,n){return this._focus({observedName:e,rootId:s},i,n,t)}async _focus(e,t,s,i){return this._transactions.beginTransaction(Vs,{...e,noFocusedProgrammaticallyFlag:t,noAccessibleCheck:s},i).then(n=>!!n)}static setVal(e,t,s){e.setVal(t,s)}}class Gs extends Ae{constructor(e,t){super(),this._lastRequestFocusId=0,this._tabster=e,this._transactions=t}async getElement(e,t){return this.waitElement(e,0,t)}async waitElement(e,t,s){return this._transactions.beginTransaction(rt,{observedName:e,accessibility:s},t).then(i=>i?Le.createElement(this._tabster,i):null)}async requestFocus(e,t){const s=++this._lastRequestFocusId;return this.waitElement(e,t,B.Focusable).then(i=>this._lastRequestFocusId===s&&i?this._tabster.crossOrigin.focusedElement.focus(i,!0):!1)}static trigger(e,t,s){e.trigger(t,s)}}class hi{constructor(e){this._init=()=>{const t=this._tabster;t.keyboardNavigation.subscribe(this._onKeyboardNavigationStateChanged),t.focusedElement.subscribe(this._onFocus),t.observedElement.subscribe(this._onObserved),this._ctx.origOutlineSetup||(this._ctx.origOutlineSetup=t.outline.setup,t.outline.setup=this._outlineSetup),this._transactions.beginTransaction(es,void 0,void 0,void 0,Ie).then(s=>{s&&this._tabster.keyboardNavigation.isNavigatingWithKeyboard()!==s.isNavigatingWithKeyboard&&(this._ctx.ignoreKeyboardNavigationStateUpdate=!0,this._tabster.keyboardNavigation.setNavigatingWithKeyboard(s.isNavigatingWithKeyboard),this._ctx.ignoreKeyboardNavigationStateUpdate=!1)})},this._onKeyboardNavigationStateChanged=t=>{this._ctx.ignoreKeyboardNavigationStateUpdate||this._transactions.beginTransaction(Le,{state:je.KeyboardNavigation,ownerUId:dt(this._win()),isNavigatingWithKeyboard:t})},this._onFocus=t=>{const s=this._win(),i=dt(s);this._blurTimer&&(s.clearTimeout(this._blurTimer),this._blurTimer=void 0),t?this._transactions.beginTransaction(Le,{...rt.getElementData(this._tabster,t,this._win,this._ctx,i),state:je.Focused}):this._blurTimer=s.setTimeout(()=>{this._blurTimer=void 0,this._ctx.focusOwner&&this._ctx.focusOwner===i&&this._transactions.beginTransaction(rt,void 0).then(n=>{!n&&this._ctx.focusOwner===i&&this._transactions.beginTransaction(Le,{ownerUId:i,state:je.Blurred,force:!1})})},0)},this._onObserved=(t,s)=>{var i;const n=rt.getElementData(this._tabster,t,this._win,this._ctx,dt(this._win()));n.state=je.Observed,n.observedName=(i=s.names)===null||i===void 0?void 0:i[0],n.observedDetails=s.details,this._transactions.beginTransaction(Le,n)},this._outlineSetup=t=>{this._transactions.beginTransaction(Le,{state:je.Outline,ownerUId:dt(this._win()),outline:t})},this._tabster=e,this._win=e.getWindow,this._ctx={ignoreKeyboardNavigationStateUpdate:!1,deloserByUId:{}},this._transactions=new di(e,this._win,this._ctx),this.focusedElement=new Cs(this._transactions),this.observedElement=new Gs(e,this._transactions)}setup(e){return this.isSetUp()?this._transactions.setSendUp(e):(this._tabster.queueInit(this._init),this._transactions.setup(e))}isSetUp(){return this._transactions.isSetUp}dispose(){var e;const t=this._tabster;t.keyboardNavigation.unsubscribe(this._onKeyboardNavigationStateChanged),t.focusedElement.unsubscribe(this._onFocus),(e=t.observedElement)===null||e===void 0||e.unsubscribe(this._onObserved),this._transactions.dispose(),this.focusedElement.dispose(),this.observedElement.dispose(),this._ctx.deloserByUId={}}}function _i(r,e,t){const s=t.getElement();if(s){const i=ut(r,s);return e.deloserByUId[i]||(e.deloserByUId[i]=t),i}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class mi{constructor(e){this._tabster=e}dispose(){}getProps(e){const t=V(this._tabster,e);return t&&t.focusable||{}}isFocusable(e,t,s,i){return Zt(e,k)&&(t||e.tabIndex!==-1)?(s||this.isVisible(e))&&(i||this.isAccessible(e)):!1}isVisible(e){if(!e.ownerDocument||e.nodeType!==Node.ELEMENT_NODE||E(e))return!1;const t=e.ownerDocument.body.getBoundingClientRect();return!(t.width===0&&t.height===0)}isAccessible(e){var t;for(let s=e;s;s=w.getParentElement(s)){const i=V(this._tabster,s);if(this._isHidden(s)||!((t=i?.focusable)===null||t===void 0?void 0:t.ignoreAriaDisabled)&&this._isDisabled(s))return!1}return!0}_isDisabled(e){return e.hasAttribute("disabled")}_isHidden(e){var t;const s=e.getAttribute("aria-hidden");return!!(s&&s.toLowerCase()==="true"&&!(!((t=this._tabster.modalizer)===null||t===void 0)&&t.isAugmented(e)))}findFirst(e,t){return this.findElement({...e},t)}findLast(e,t){return this.findElement({isBackward:!0,...e},t)}findNext(e,t){return this.findElement({...e},t)}findPrev(e,t){return this.findElement({...e,isBackward:!0},t)}findDefault(e,t){return this.findElement({...e,acceptCondition:s=>this.isFocusable(s,e.includeProgrammaticallyFocusable)&&!!this.getProps(s).isDefault},t)||null}findAll(e){return this._findElements(!0,e)||[]}findElement(e,t){const s=this._findElements(!1,e,t);return s&&s[0]}_findElements(e,t,s){var i,n,o;const{container:l,currentElement:a=null,includeProgrammaticallyFocusable:u,useActiveModalizer:f,ignoreAccessibility:h,modalizerId:p,isBackward:_,onElement:y}=t;s||(s={});const F=[];let{acceptCondition:I}=t;const C=!!I;if(!l)return null;I||(I=re=>this.isFocusable(re,u,!1,h));const N={container:l,modalizerUserId:p===void 0&&f?(i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId:p||((o=(n=A.getTabsterContext(this._tabster,l))===null||n===void 0?void 0:n.modalizer)===null||o===void 0?void 0:o.userId),from:a||l,isBackward:_,isFindAll:e,acceptCondition:I,hasCustomCondition:C,includeProgrammaticallyFocusable:u,ignoreAccessibility:h,cachedGrouppers:{},cachedRadioGroups:{}},R=ht(l.ownerDocument,l,re=>this._acceptElement(re,N));if(!R)return null;const oe=re=>{var ce,_e;const ee=(ce=N.foundElement)!==null&&ce!==void 0?ce:N.foundBackward;return ee&&F.push(ee),e?ee&&(N.found=!1,delete N.foundElement,delete N.foundBackward,delete N.fromCtx,N.from=ee,y&&!y(ee))?!1:!!(ee||re):(ee&&s&&(s.uncontrolled=(_e=A.getTabsterContext(this._tabster,ee))===null||_e===void 0?void 0:_e.uncontrolled),!!(re&&!ee))};if(a||(s.outOfDOMOrder=!0),a&&w.nodeContains(l,a))R.currentNode=a;else if(_){const re=g(l);if(!re)return null;if(this._acceptElement(re,N)===NodeFilter.FILTER_ACCEPT&&!oe(!0))return N.skippedFocusable&&(s.outOfDOMOrder=!0),F;R.currentNode=re}do _?R.previousNode():R.nextNode();while(oe());return N.skippedFocusable&&(s.outOfDOMOrder=!0),F.length?F:null}_acceptElement(e,t){var s,i,n;if(t.found)return NodeFilter.FILTER_ACCEPT;const o=t.foundBackward;if(o&&(e===o||!w.nodeContains(o,e)))return t.found=!0,t.foundElement=o,NodeFilter.FILTER_ACCEPT;const l=t.container;if(e===l)return NodeFilter.FILTER_SKIP;if(!w.nodeContains(l,e)||M(e)||w.nodeContains(t.rejectElementsFrom,e))return NodeFilter.FILTER_REJECT;const a=t.currentCtx=A.getTabsterContext(this._tabster,e);if(!a)return NodeFilter.FILTER_SKIP;if(kt(e))return this.isFocusable(e,void 0,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_SKIP;if(!t.hasCustomCondition&&(e.tagName==="IFRAME"||e.tagName==="WEBVIEW"))return this.isVisible(e)&&((s=a.modalizer)===null||s===void 0?void 0:s.userId)===((i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId)?(t.found=!0,t.rejectElementsFrom=t.foundElement=e,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!t.ignoreAccessibility&&!this.isAccessible(e))return this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_REJECT;let u,f=t.fromCtx;f||(f=t.fromCtx=A.getTabsterContext(this._tabster,t.from));const h=f?.mover;let p=a.groupper,_=a.mover;if(u=(n=this._tabster.modalizer)===null||n===void 0?void 0:n.acceptElement(e,t),u!==void 0&&(t.skippedFocusable=!0),u===void 0&&(p||_||h)){const y=p?.getElement(),F=h?.getElement();let I=_?.getElement();if(I&&w.nodeContains(F,I)&&w.nodeContains(l,F)&&(!y||!_||w.nodeContains(F,y))&&(_=h,I=F),y){if(y===l||!w.nodeContains(l,y))p=void 0;else if(!w.nodeContains(y,e))return NodeFilter.FILTER_REJECT}if(I){if(!w.nodeContains(l,I))_=void 0;else if(!w.nodeContains(I,e))return NodeFilter.FILTER_REJECT}p&&_&&(I&&y&&!w.nodeContains(y,I)?_=void 0:p=void 0),p&&(u=p.acceptElement(e,t)),_&&(u=_.acceptElement(e,t))}if(u===void 0&&(u=t.acceptCondition(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,u===NodeFilter.FILTER_SKIP&&this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0)),u===NodeFilter.FILTER_ACCEPT&&!t.found){if(!t.isFindAll&&D(e)&&!e.checked){const y=e.name;let F=t.cachedRadioGroups[y];if(F||(F=W(e),F&&(t.cachedRadioGroups[y]=F)),F?.checked&&F.checked!==e)return NodeFilter.FILTER_SKIP}t.isBackward?(t.foundBackward=e,u=NodeFilter.FILTER_SKIP):(t.found=!0,t.foundElement=e)}return u}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const Ne={Tab:"Tab",Enter:"Enter",Escape:"Escape",PageUp:"PageUp",PageDown:"PageDown",End:"End",Home:"Home",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown"};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function gi(r,e){var t;const s=r.getParent;let i=e;do{const n=(t=V(r,i))===null||t===void 0?void 0:t.uncontrolled;if(n&&r.uncontrolled.isUncontrolledCompletely(i,!!n.completely))return i;i=s(i)}while(i)}const $s={[x.Restorer]:0,[x.Deloser]:1,[x.EscapeGroupper]:2};class De extends Ae{constructor(e,t){super(),this._init=()=>{const s=this._win(),i=s.document;i.addEventListener(S.Oy,this._onFocusIn,!0),i.addEventListener(S.RY,this._onFocusOut,!0),s.addEventListener("keydown",this._onKeyDown,!0);const n=w.getActiveElement(i);n&&n!==i.body&&this._setFocusedElement(n),this.subscribe(this._onChanged)},this._onFocusIn=s=>{const i=s.composedPath()[0];i&&this._setFocusedElement(i,s.detail.relatedTarget,s.detail.isFocusedProgrammatically)},this._onFocusOut=s=>{var i;this._setFocusedElement(void 0,(i=s.detail)===null||i===void 0?void 0:i.originalEvent.relatedTarget)},this._validateFocusedElement=s=>{},this._onKeyDown=s=>{if(s.key!==Ne.Tab||s.ctrlKey)return;const i=this.getVal();if(!i||!i.ownerDocument||i.contentEditable==="true")return;const n=this._tabster,o=n.controlTab,l=A.getTabsterContext(n,i);if(!l||l.ignoreKeydown(s))return;const a=s.shiftKey,u=De.findNextTabbable(n,l,void 0,i,void 0,a,!0),f=l.root.getElement();if(!f)return;const h=u?.element,p=gi(n,i);if(h){const _=u.uncontrolled;if(l.uncontrolled||w.nodeContains(_,i)){if(!u.outOfDOMOrder&&_===l.uncontrolled||p&&!w.nodeContains(p,h))return;gt.addPhantomDummyWithTarget(n,i,a,h);return}if(_&&n.focusable.isVisible(_)||h.tagName==="IFRAME"&&n.focusable.isVisible(h)){f.dispatchEvent(new Je({by:"root",owner:f,next:h,relatedEvent:s}))&&gt.moveWithPhantomDummy(n,_??h,!1,a,s);return}(o||u?.outOfDOMOrder)&&f.dispatchEvent(new Je({by:"root",owner:f,next:h,relatedEvent:s}))&&(s.preventDefault(),s.stopImmediatePropagation(),(0,S.kG)(h))}else!p&&f.dispatchEvent(new Je({by:"root",owner:f,next:null,relatedEvent:s}))&&l.root.moveOutWithDefaultAction(a,s)},this._onChanged=(s,i)=>{var n,o;if(s)s.dispatchEvent(new ls(i));else{const l=(n=this._lastVal)===null||n===void 0?void 0:n.get();if(l){const a={...i},u=A.getTabsterContext(this._tabster,l),f=(o=u?.modalizer)===null||o===void 0?void 0:o.userId;f&&(a.modalizerId=f),l.dispatchEvent(new Ut(a))}}},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){super.dispose();const e=this._win(),t=e.document;t.removeEventListener(S.Oy,this._onFocusIn,!0),t.removeEventListener(S.RY,this._onFocusOut,!0),e.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged);const s=this._asyncFocus;s&&(e.clearTimeout(s.timeout),delete this._asyncFocus),delete De._lastResetElement,delete this._nextVal,delete this._lastVal}static forgetMemorized(e,t){var s,i;let n=De._lastResetElement,o=n&&n.get();o&&w.nodeContains(t,o)&&delete De._lastResetElement,o=(i=(s=e._nextVal)===null||s===void 0?void 0:s.element)===null||i===void 0?void 0:i.get(),o&&w.nodeContains(t,o)&&delete e._nextVal,n=e._lastVal,o=n&&n.get(),o&&w.nodeContains(t,o)&&delete e._lastVal}getFocusedElement(){return this.getVal()}getLastFocusedElement(){var e;let t=(e=this._lastVal)===null||e===void 0?void 0:e.get();return(!t||t&&!ft(t.ownerDocument,t))&&(this._lastVal=t=void 0),t}focus(e,t,s,i){return this._tabster.focusable.isFocusable(e,t,!1,s)?(e.focus({preventScroll:i}),!0):!1}focusDefault(e){const t=this._tabster.focusable.findDefault({container:e});return t?(this._tabster.focusedElement.focus(t),!0):!1}getFirstOrLastTabbable(e,t){var s;const{container:i,ignoreAccessibility:n}=t;let o;if(i){const l=A.getTabsterContext(this._tabster,i);l&&(o=(s=De.findNextTabbable(this._tabster,l,i,void 0,void 0,!e,n))===null||s===void 0?void 0:s.element)}return o&&!w.nodeContains(i,o)&&(o=void 0),o||void 0}_focusFirstOrLast(e,t){const s=this.getFirstOrLastTabbable(e,t);return s?(this.focus(s,!1,!0),!0):!1}focusFirst(e){return this._focusFirstOrLast(!0,e)}focusLast(e){return this._focusFirstOrLast(!1,e)}resetFocus(e){if(!this._tabster.focusable.isVisible(e))return!1;if(this._tabster.focusable.isFocusable(e,!0,!0,!0))this.focus(e);else{const t=e.getAttribute("tabindex"),s=e.getAttribute("aria-hidden");e.tabIndex=-1,e.setAttribute("aria-hidden","true"),De._lastResetElement=new We(this._win,e),this.focus(e,!0,!0),this._setOrRemoveAttribute(e,"tabindex",t),this._setOrRemoveAttribute(e,"aria-hidden",s)}return!0}requestAsyncFocus(e,t,s){const i=this._tabster.getWindow(),n=this._asyncFocus;if(n){if($s[e]>$s[n.source])return;i.clearTimeout(n.timeout)}this._asyncFocus={source:e,callback:t,timeout:i.setTimeout(()=>{this._asyncFocus=void 0,t()},s)}}cancelAsyncFocus(e){const t=this._asyncFocus;t?.source===e&&(this._tabster.getWindow().clearTimeout(t.timeout),this._asyncFocus=void 0)}_setOrRemoveAttribute(e,t,s){s===null?e.removeAttribute(t):e.setAttribute(t,s)}_setFocusedElement(e,t,s){var i,n;if(this._tabster._noop)return;const o={relatedTarget:t};if(e){const a=(i=De._lastResetElement)===null||i===void 0?void 0:i.get();if(De._lastResetElement=void 0,a===e||kt(e))return;o.isFocusedProgrammatically=s;const u=A.getTabsterContext(this._tabster,e),f=(n=u?.modalizer)===null||n===void 0?void 0:n.userId;f&&(o.modalizerId=f)}const l=this._nextVal={element:e?new We(this._win,e):void 0,detail:o};e&&e!==this._val&&this._validateFocusedElement(e),this._nextVal===l&&this.setVal(e,o),this._nextVal=void 0}setVal(e,t){super.setVal(e,t),e&&(this._lastVal=new We(this._win,e))}static findNextTabbable(e,t,s,i,n,o,l){const a=s||t.root.getElement();if(!a)return null;let u=null;const f=De._isTabbingTimer,h=e.getWindow();f&&h.clearTimeout(f),De.isTabbing=!0,De._isTabbingTimer=h.setTimeout(()=>{delete De._isTabbingTimer,De.isTabbing=!1},0);const p=t.modalizer,_=t.groupper,y=t.mover,F=I=>{if(u=I.findNextTabbable(i,n,o,l),i&&!u?.element){const C=I!==p&&w.getParentElement(I.getElement());if(C){const N=A.getTabsterContext(e,i,{referenceElement:C});if(N){const R=I.getElement(),oe=o?R:R&&g(R)||R;oe&&(u=De.findNextTabbable(e,N,s,oe,C,o,l),u&&(u.outOfDOMOrder=!0))}}}};if(_&&y)F(t.groupperBeforeMover?_:y);else if(_)F(_);else if(y)F(y);else if(p)F(p);else{const I={container:a,currentElement:i,referenceElement:n,ignoreAccessibility:l,useActiveModalizer:!0},C={};u={element:e.focusable[o?"findPrev":"findNext"](I,C),outOfDOMOrder:C.outOfDOMOrder,uncontrolled:C.uncontrolled}}return u}}De.isTabbing=!1;/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class vi extends gt{constructor(e,t,s,i){super(s,e,Ot.Groupper,i,!0),this._setHandlers((n,o,l)=>{var a,u;const f=e.get(),h=n.input;if(f&&h){const p=A.getTabsterContext(s,h);if(p){let _;_=(a=t.findNextTabbable(l||void 0,void 0,o,!0))===null||a===void 0?void 0:a.element,_||(_=(u=De.findNextTabbable(s,p,void 0,n.isOutside?h:v(f,!o),void 0,o,!0))===null||u===void 0?void 0:u.element),_&&(0,S.kG)(_)}}})}}class pi extends mt{constructor(e,t,s,i,n){super(e,t,i),this._shouldTabInside=!1,this.makeTabbable(!1),this._onDispose=s,e.controlTab||(this.dummyManager=new vi(this._element,this,e,n))}dispose(){var e;this._onDispose(this);const t=this._element.get();(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager,delete this._first}findNextTabbable(e,t,s,i){const n=this.getElement();if(!n)return null;const o=M(e)===n;if(!this._shouldTabInside&&e&&w.nodeContains(n,e)&&!o)return{element:void 0,outOfDOMOrder:!0};const l=this.getFirst(!0);if(!e||!w.nodeContains(n,e)||o)return{element:l,outOfDOMOrder:!0};const a=this._tabster;let u=null,f=!1,h;if(this._shouldTabInside&&l){const p={container:n,currentElement:e,referenceElement:t,ignoreAccessibility:i,useActiveModalizer:!0},_={};u=a.focusable[s?"findPrev":"findNext"](p,_),f=!!_.outOfDOMOrder,!u&&this._props.tabbability===ue.LimitedTrapFocus&&(u=a.focusable[s?"findLast":"findFirst"]({container:n,ignoreAccessibility:i,useActiveModalizer:!0},_),f=!0),h=_.uncontrolled}return{element:u,uncontrolled:h,outOfDOMOrder:f}}makeTabbable(e){this._shouldTabInside=e||!this._props.tabbability}isActive(e){var t;const s=this.getElement()||null;let i=!0;for(let o=w.getParentElement(s);o;o=w.getParentElement(o)){const l=(t=V(this._tabster,o))===null||t===void 0?void 0:t.groupper;l&&(l._shouldTabInside||(i=!1))}let n=i?this._props.tabbability?this._shouldTabInside:!1:void 0;if(n&&e){const o=this._tabster.focusedElement.getFocusedElement();o&&(n=o!==this.getFirst(!0))}return n}getFirst(e){var t;const s=this.getElement();let i;if(s){if(e&&this._tabster.focusable.isFocusable(s))return s;i=(t=this._first)===null||t===void 0?void 0:t.get(),i||(i=this._tabster.focusable.findFirst({container:s,useActiveModalizer:!0})||void 0,i&&this.setFirst(i))}return i}setFirst(e){e?this._first=new We(this._tabster.getWindow,e):delete this._first}acceptElement(e,t){const s=t.cachedGrouppers,i=w.getParentElement(this.getElement()),n=i&&A.getTabsterContext(this._tabster,i),o=n?.groupper,l=n?.groupperBeforeMover?o:void 0;let a;const u=p=>{let _=s[p.id],y;return _?y=_.isActive:(y=this.isActive(!0),_=s[p.id]={isActive:y}),y};if(l&&(a=l.getElement(),!u(l)&&a&&t.container!==a&&w.nodeContains(t.container,a)))return t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const f=u(this),h=this.getElement();if(h&&f!==!0){if(h===e&&o&&(a||(a=o.getElement()),a&&!u(o)&&w.nodeContains(t.container,a)&&a!==t.container)||h!==e&&w.nodeContains(h,e))return t.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const p=s[this.id];let _;if("first"in p?_=p.first:_=p.first=this.getFirst(!0),_&&t.acceptCondition(_))return t.rejectElementsFrom=h,t.skippedFocusable=!0,_!==t.from?(t.found=!0,t.foundElement=_,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT}}}class bi{constructor(e,t){this._current={},this._grouppers={},this._init=()=>{const s=this._win();this._tabster.focusedElement.subscribeFirst(this._onFocus);const i=s.document,n=w.getActiveElement(i);n&&this._onFocus(n),i.addEventListener("mousedown",this._onMouseDown,!0),s.addEventListener("keydown",this._onKeyDown,!0),s.addEventListener(it,this._onMoveFocus)},this._onGroupperDispose=s=>{delete this._grouppers[s.id]},this._onFocus=s=>{s&&this._updateCurrent(s)},this._onMouseDown=s=>{let i=s.target;for(;i&&!this._tabster.focusable.isFocusable(i);)i=this._tabster.getParent(i);i&&this._updateCurrent(i)},this._onKeyDown=s=>{if(s.key!==Ne.Enter&&s.key!==Ne.Escape||s.ctrlKey||s.altKey||s.shiftKey||s.metaKey)return;const i=this._tabster.focusedElement.getFocusedElement();i&&this.handleKeyPress(i,s)},this._onMoveFocus=s=>{var i;const n=s.composedPath()[0],o=(i=s.detail)===null||i===void 0?void 0:i.action;n&&o!==void 0&&!s.defaultPrevented&&(o===pe.Enter?this._enterGroupper(n):this._escapeGroupper(n),s.stopImmediatePropagation())},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){const e=this._win();this._tabster.focusedElement.cancelAsyncFocus(x.EscapeGroupper),this._current={},this._updateTimer&&(e.clearTimeout(this._updateTimer),delete this._updateTimer),this._tabster.focusedElement.unsubscribe(this._onFocus),e.document.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener(it,this._onMoveFocus),Object.keys(this._grouppers).forEach(t=>{this._grouppers[t]&&(this._grouppers[t].dispose(),delete this._grouppers[t])})}createGroupper(e,t,s){const i=this._tabster,n=new pi(i,e,this._onGroupperDispose,t,s);this._grouppers[n.id]=n;const o=i.focusedElement.getFocusedElement();return o&&w.nodeContains(e,o)&&!this._updateTimer&&(this._updateTimer=this._win().setTimeout(()=>{delete this._updateTimer,o===i.focusedElement.getFocusedElement()&&this._updateCurrent(o)},0)),n}forgetCurrentGrouppers(){this._current={}}_updateCurrent(e){var t;this._updateTimer&&(this._win().clearTimeout(this._updateTimer),delete this._updateTimer);const s=this._tabster,i={};for(let n=s.getParent(e);n;n=s.getParent(n)){const o=(t=V(s,n))===null||t===void 0?void 0:t.groupper;if(o){i[o.id]=!0,this._current[o.id]=o;const l=o.isActive()||e!==n&&(!o.getProps().delegated||o.getFirst(!1)!==e);o.makeTabbable(l)}}for(const n of Object.keys(this._current)){const o=this._current[n];o.id in i||(o.makeTabbable(!1),o.setFirst(void 0),delete this._current[n])}}_enterGroupper(e,t){const s=this._tabster,i=A.getTabsterContext(s,e),n=i?.groupper||i?.modalizerInGroupper,o=n?.getElement();if(n&&o&&(e===o||n.getProps().delegated&&e===n.getFirst(!1))){const l=s.focusable.findNext({container:o,currentElement:e,useActiveModalizer:!0});if(l&&(!t||t&&o.dispatchEvent(new Je({by:"groupper",owner:o,next:l,relatedEvent:t}))))return t&&(t.preventDefault(),t.stopImmediatePropagation()),l.focus(),l}return null}_escapeGroupper(e,t,s){const i=this._tabster,n=A.getTabsterContext(i,e);let o=n?.groupper||n?.modalizerInGroupper;const l=o?.getElement();if(o&&l&&w.nodeContains(l,e)){let a;if(e!==l||s)a=o.getFirst(!0);else{const u=w.getParentElement(l),f=u?A.getTabsterContext(i,u):void 0;o=f?.groupper,a=o?.getFirst(!0)}if(a&&(!t||t&&l.dispatchEvent(new Je({by:"groupper",owner:l,next:a,relatedEvent:t}))))return o&&o.makeTabbable(!1),a.focus(),a}return null}moveFocus(e,t){return t===pe.Enter?this._enterGroupper(e):this._escapeGroupper(e)}handleKeyPress(e,t,s){const i=this._tabster,n=A.getTabsterContext(i,e);if(n&&(n?.groupper||n?.modalizerInGroupper)){if(i.focusedElement.cancelAsyncFocus(x.EscapeGroupper),n.ignoreKeydown(t))return;if(t.key===Ne.Enter)this._enterGroupper(e,t);else if(t.key===Ne.Escape){const o=i.focusedElement.getFocusedElement();i.focusedElement.requestAsyncFocus(x.EscapeGroupper,()=>{o!==i.focusedElement.getFocusedElement()&&(s&&!o||!s)||this._escapeGroupper(e,t,s)},0)}}}}function rn(r,e){}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class yi extends Ae{constructor(e){super(),this._onChange=t=>{this.setVal(t,void 0)},this._keyborg=(0,S.SQ)(e()),this._keyborg.subscribe(this._onChange)}dispose(){super.dispose(),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),(0,S.bd)(this._keyborg),delete this._keyborg)}setNavigatingWithKeyboard(e){var t;(t=this._keyborg)===null||t===void 0||t.setVal(e)}isNavigatingWithKeyboard(){var e;return!!(!((e=this._keyborg)===null||e===void 0)&&e.isNavigatingWithKeyboard())}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let Ei=0;const Os="aria-hidden";function ln(r,e,t,s,i,n){}class wi extends gt{constructor(e,t,s){super(t,e,Ot.Modalizer,s),this._setHandlers((i,n)=>{var o,l;const a=e.get(),u=a&&((o=A.getRoot(t,a))===null||o===void 0?void 0:o.getElement()),f=i.input;let h;if(u&&f){const p=M(f),_=A.getTabsterContext(t,p||f);_&&(h=(l=De.findNextTabbable(t,_,u,f,void 0,n,!0))===null||l===void 0?void 0:l.element),h&&(0,S.kG)(h)}})}}class Ti extends mt{constructor(e,t,s,i,n,o){super(e,t,i),this._wasFocused=0,this.userId=i.id,this._onDispose=s,this._activeElements=o,e.controlTab||(this.dummyManager=new wi(this._element,e,n))}makeActive(e){if(this._isActive!==e){this._isActive=e;const t=this.getElement();if(t){const s=this._activeElements,i=s.map(n=>n.get()).indexOf(t);e?i<0&&s.push(new We(this._tabster.getWindow,t)):i>=0&&s.splice(i,1)}this._dispatchEvent(e)}}focused(e){return e||(this._wasFocused=++Ei),this._wasFocused}setProps(e){e.id&&(this.userId=e.id),this._props={...e}}dispose(){var e;this.makeActive(!1),this._onDispose(this),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager,this._activeElements=[],this._remove()}isActive(){return!!this._isActive}contains(e){return w.nodeContains(this.getElement(),e)}findNextTabbable(e,t,s,i){var n,o;if(!this.getElement())return null;const a=this._tabster;let u=null,f=!1,h;const p=e&&((n=A.getRoot(a,e))===null||n===void 0?void 0:n.getElement());if(p){const _={container:p,currentElement:e,referenceElement:t,ignoreAccessibility:i,useActiveModalizer:!0},y={};u=a.focusable[s?"findPrev":"findNext"](_,y),!u&&this._props.isTrapped&&(!((o=a.modalizer)===null||o===void 0)&&o.activeId)?(u=a.focusable[s?"findLast":"findFirst"]({container:p,ignoreAccessibility:i,useActiveModalizer:!0},y),u===null&&(u=e),f=!0):f=!!y.outOfDOMOrder,h=y.uncontrolled}return{element:u,uncontrolled:h,outOfDOMOrder:f}}_dispatchEvent(e,t){const s=this.getElement();let i=!1;if(s){const n=t?this._activeElements.map(o=>o.get()):[s];for(const o of n)if(o){const l={id:this.userId,element:s},a=e?new us(l):new ds(l);o.dispatchEvent(a),a.defaultPrevented&&(i=!0)}}return i}_remove(){}}class Fi{constructor(e,t,s){this._onModalizerDispose=n=>{const o=n.id,l=n.userId,a=this._parts[l];if(delete this._modalizers[o],a&&(delete a[o],Object.keys(a).length===0)){delete this._parts[l];const u=this._activationHistory,f=[];let h;for(let p=u.length;p--;){const _=u[p];_!==l&&_!==h&&(h=_,(_||f.length>0)&&f.unshift(_))}if(this._activationHistory=f,this.activeId===l){const p=f[0],_=p?Object.values(this._parts[p])[0]:void 0;this.setActive(_)}}},this._onKeyDown=n=>{var o;if(n.key!==Ne.Escape)return;const l=this._tabster,a=l.focusedElement.getFocusedElement();if(a){const u=A.getTabsterContext(l,a),f=u?.modalizer;if(u&&!u.groupper&&f?.isActive()&&!u.ignoreKeydown(n)){const h=f.userId;if(h){const p=this._parts[h];if(p){const _=Object.keys(p).map(y=>{var F;const I=p[y],C=I.getElement();let N;return C&&(N=(F=V(l,C))===null||F===void 0?void 0:F.groupper),I&&C&&N?{el:C,focusedSince:I.focused(!0)}:{focusedSince:0}}).filter(y=>y.focusedSince>0).sort((y,F)=>y.focusedSince>F.focusedSince?-1:y.focusedSince<F.focusedSince?1:0);if(_.length){const y=_[0].el;y&&((o=l.groupper)===null||o===void 0||o.handleKeyPress(y,n,!0))}}}}}},this._onFocus=(n,o)=>{var l;const a=this._tabster,u=n&&A.getTabsterContext(a,n);if(!u||!n)return;const f=this._augMap;for(let y=n;y;y=w.getParentElement(y))f.has(y)&&(f.delete(y),b(a,y,Os));let h=u.modalizer;const p=V(a,n),_=p?.modalizer;if(_&&(_.focused(),_.userId===this.activeId&&p.groupper)){const y=a.getParent(n),F=y&&((l=A.getTabsterContext(a,y))===null||l===void 0?void 0:l.modalizer);if(F)h=F;else{this.setActive(void 0);return}}if(h?.focused(),h?.userId===this.activeId){this.currentIsOthersAccessible=h?.getProps().isOthersAccessible;return}if(o.isFocusedProgrammatically||this.currentIsOthersAccessible||h?.getProps().isAlwaysAccessible)this.setActive(h);else{const y=this._win();y.clearTimeout(this._restoreModalizerFocusTimer),this._restoreModalizerFocusTimer=y.setTimeout(()=>this._restoreModalizerFocus(n),100)}},this._tabster=e,this._win=e.getWindow,this._modalizers={},this._parts={},this._augMap=new WeakMap,this._aug=[],this._alwaysAccessibleSelector=t,this._accessibleCheck=s,this._activationHistory=[],this.activeElements=[],e.controlTab||e.root.addDummyInputs(),this._win().addEventListener("keydown",this._onKeyDown,!0),e.queueInit(()=>{this._tabster.focusedElement.subscribe(this._onFocus)})}dispose(){const e=this._win();e.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._modalizers).forEach(t=>{this._modalizers[t]&&(this._modalizers[t].dispose(),delete this._modalizers[t])}),e.clearTimeout(this._restoreModalizerFocusTimer),e.clearTimeout(this._hiddenUpdateTimer),this._parts={},delete this.activeId,this.activeElements=[],this._augMap=new WeakMap,this._aug=[],this._tabster.focusedElement.unsubscribe(this._onFocus)}createModalizer(e,t,s){var i;const n=new Ti(this._tabster,e,this._onModalizerDispose,t,s,this.activeElements),o=n.id,l=t.id;this._modalizers[o]=n;let a=this._parts[l];a||(a=this._parts[l]={}),a[o]=n;const u=(i=this._tabster.focusedElement.getFocusedElement())!==null&&i!==void 0?i:null;return e!==u&&w.nodeContains(e,u)&&(l!==this.activeId?this.setActive(n):n.makeActive(!0)),n}isAugmented(e){return this._augMap.has(e)}hiddenUpdate(){this._hiddenUpdateTimer||(this._hiddenUpdateTimer=this._win().setTimeout(()=>{delete this._hiddenUpdateTimer,this._hiddenUpdate()},250))}setActive(e){const t=e?.userId,s=this.activeId;if(s===t)return;if(this.activeId=t,s){const n=this._parts[s];if(n)for(const o of Object.keys(n))n[o].makeActive(!1)}if(t){const n=this._parts[t];if(n)for(const o of Object.keys(n))n[o].makeActive(!0)}this.currentIsOthersAccessible=e?.getProps().isOthersAccessible,this.hiddenUpdate();const i=this._activationHistory;i[0]!==t&&(t!==void 0||i.length>0)&&i.unshift(t)}focus(e,t,s){const i=this._tabster,n=A.getTabsterContext(i,e),o=n?.modalizer;if(o){this.setActive(o);const l=o.getProps(),a=o.getElement();if(a){if(t===void 0&&(t=l.isNoFocusFirst),!t&&i.keyboardNavigation.isNavigatingWithKeyboard()&&i.focusedElement.focusFirst({container:a})||(s===void 0&&(s=l.isNoFocusDefault),!s&&i.focusedElement.focusDefault(a)))return!0;i.focusedElement.resetFocus(a)}}return!1}activate(e){var t;const s=e?(t=A.getTabsterContext(this._tabster,e))===null||t===void 0?void 0:t.modalizer:void 0;return!e||s?(this.setActive(s),!0):!1}acceptElement(e,t){var s;const i=t.modalizerUserId,n=(s=t.currentCtx)===null||s===void 0?void 0:s.modalizer;if(i)for(const l of this.activeElements){const a=l.get();if(a&&(w.nodeContains(e,a)||a===e))return NodeFilter.FILTER_SKIP}const o=i===n?.userId||!i&&n?.getProps().isAlwaysAccessible?void 0:NodeFilter.FILTER_SKIP;return o!==void 0&&(t.skippedFocusable=!0),o}_hiddenUpdate(){var e;const t=this._tabster,s=t.getWindow().document.body,i=this.activeId,n=this._parts,o=[],l=[],a=this._alwaysAccessibleSelector,u=a?Array.from(w.querySelectorAll(s,a)):[],f=[];for(const C of Object.keys(n)){const N=n[C];for(const R of Object.keys(N)){const oe=N[R],re=oe.getElement(),_e=oe.getProps().isAlwaysAccessible;re&&(C===i?(f.push(re),this.currentIsOthersAccessible||o.push(re)):_e?u.push(re):l.push(re))}}const h=this._augMap,p=o.length>0?[...o,...u]:void 0,_=[],y=new WeakMap,F=(C,N)=>{var R;const oe=C.tagName;if(oe==="SCRIPT"||oe==="STYLE")return;let re=!1;h.has(C)?N?re=!0:(h.delete(C),b(t,C,Os)):N&&!(!((R=this._accessibleCheck)===null||R===void 0)&&R.call(this,C,f))&&b(t,C,Os,"true")&&(h.set(C,!0),re=!0),re&&(_.push(new We(t.getWindow,C)),y.set(C,!0))},I=C=>{var N;for(let R=w.getFirstElementChild(C);R;R=w.getNextElementSibling(R)){let oe=!1,re=!1,ce=!1;if(p){const _e=t.getParent(R);for(const ee of p){if(R===ee){oe=!0;break}if(w.nodeContains(R,ee)){re=!0;break}else w.nodeContains(ee,_e)&&(ce=!0)}re||!((N=R.__tabsterElementFlags)===null||N===void 0)&&N.noDirectAriaHidden?I(R):!oe&&!ce&&F(R,!0)}else F(R,!1)}};p||u.forEach(C=>F(C,!1)),l.forEach(C=>F(C,!0)),s&&I(s),(e=this._aug)===null||e===void 0||e.map(C=>C.get()).forEach(C=>{C&&!y.get(C)&&F(C,!1)}),this._aug=_,this._augMap=y}_restoreModalizerFocus(e){var t;const s=e?.ownerDocument;if(!e||!s)return;const i=this._tabster.focusedElement.getFocusedElement(),n=i&&((t=A.getTabsterContext(this._tabster,i))===null||t===void 0?void 0:t.modalizer);if(!i||i&&n?.userId===this.activeId)return;const o=this._tabster,l=A.getTabsterContext(o,e),a=l?.modalizer,u=this.activeId;if(!a&&!u||a&&u===a.userId)return;const f=l?.root.getElement();if(f){let h=o.focusable.findFirst({container:f,useActiveModalizer:!0});if(h){if(e.compareDocumentPosition(h)&document.DOCUMENT_POSITION_PRECEDING&&(h=o.focusable.findLast({container:f,useActiveModalizer:!0}),!h))throw new Error("Something went wrong.");o.focusedElement.focus(h);return}}e.blur()}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const Ci=["input","textarea","*[contenteditable]"].join(", ");class Oi extends gt{constructor(e,t,s,i){super(t,e,Ot.Mover,i),this._onFocusDummyInput=n=>{var o,l;const a=this._element.get(),u=n.input;if(a&&u){const f=A.getTabsterContext(this._tabster,a);let h;f&&(h=(o=De.findNextTabbable(this._tabster,f,void 0,u,void 0,!n.isFirst,!0))===null||o===void 0?void 0:o.element);const p=(l=this._getMemorized())===null||l===void 0?void 0:l.get();p&&this._tabster.focusable.isFocusable(p)&&(h=p),h&&(0,S.kG)(h)}},this._tabster=t,this._getMemorized=s,this._setHandlers(this._onFocusDummyInput)}}const Is=1,qs=2,Ys=3;class Ii extends mt{constructor(e,t,s,i,n){var o;super(e,t,i),this._visible={},this._onIntersection=a=>{for(const u of a){const f=u.target,h=ut(this._win,f);let p,_=this._fullyVisible;if(u.intersectionRatio>=.25?(p=u.intersectionRatio>=.75?U.Visible:U.PartiallyVisible,p===U.Visible&&(_=h)):p=U.Invisible,this._visible[h]!==p){p===void 0?(delete this._visible[h],_===h&&delete this._fullyVisible):(this._visible[h]=p,this._fullyVisible=_);const y=this.getState(f);y&&f.dispatchEvent(new as(y))}}},this._win=e.getWindow,this.visibilityTolerance=(o=i.visibilityTolerance)!==null&&o!==void 0?o:.8,(this._props.trackState||this._props.visibilityAware)&&(this._intersectionObserver=new IntersectionObserver(this._onIntersection,{threshold:[0,.25,.5,.75,1]}),this._observeState()),this._onDispose=s;const l=()=>i.memorizeCurrent?this._current:void 0;e.controlTab||(this.dummyManager=new Oi(this._element,e,l,n))}dispose(){var e;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);const t=this._win();this._setCurrentTimer&&(t.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(t.clearTimeout(this._updateTimer),delete this._updateTimer),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager}setCurrent(e){e?this._current=new We(this._win,e):this._current=void 0,(this._props.trackState||this._props.visibilityAware)&&!this._setCurrentTimer&&(this._setCurrentTimer=this._win().setTimeout(()=>{var t;delete this._setCurrentTimer;const s=[];this._current!==this._prevCurrent&&(s.push(this._current),s.push(this._prevCurrent),this._prevCurrent=this._current);for(const i of s){const n=i?.get();if(n&&((t=this._allElements)===null||t===void 0?void 0:t.get(n))===this){const o=this._props;if(n&&(o.visibilityAware!==void 0||o.trackState)){const l=this.getState(n);l&&n.dispatchEvent(new as(l))}}}}))}getCurrent(){var e;return((e=this._current)===null||e===void 0?void 0:e.get())||null}findNextTabbable(e,t,s,i){const n=this.getElement(),o=n&&M(e)===n;if(!n)return null;let l=null,a=!1,u;if(this._props.tabbable||o||e&&!w.nodeContains(n,e)){const f={currentElement:e,referenceElement:t,container:n,ignoreAccessibility:i,useActiveModalizer:!0},h={};l=this._tabster.focusable[s?"findPrev":"findNext"](f,h),a=!!h.outOfDOMOrder,u=h.uncontrolled}return{element:l,uncontrolled:u,outOfDOMOrder:a}}acceptElement(e,t){var s,i;if(!De.isTabbing)return!((s=t.currentCtx)===null||s===void 0)&&s.excludedFromMover?NodeFilter.FILTER_REJECT:void 0;const{memorizeCurrent:n,visibilityAware:o,hasDefault:l=!0}=this._props,a=this.getElement();if(a&&(n||o||l)&&(!w.nodeContains(a,t.from)||M(t.from)===a)){let u;if(n){const f=(i=this._current)===null||i===void 0?void 0:i.get();f&&t.acceptCondition(f)&&(u=f)}if(!u&&l&&(u=this._tabster.focusable.findDefault({container:a,useActiveModalizer:!0})),!u&&o&&(u=this._tabster.focusable.findElement({container:a,useActiveModalizer:!0,isBackward:t.isBackward,acceptCondition:f=>{var h;const p=ut(this._win,f),_=this._visible[p];return a!==f&&!!(!((h=this._allElements)===null||h===void 0)&&h.get(f))&&t.acceptCondition(f)&&(_===U.Visible||_===U.PartiallyVisible&&(o===U.PartiallyVisible||!this._fullyVisible))}})),u)return t.found=!0,t.foundElement=u,t.rejectElementsFrom=a,t.skippedFocusable=!0,NodeFilter.FILTER_ACCEPT}}_observeState(){const e=this.getElement();if(this._unobserve||!e||typeof MutationObserver>"u")return;const t=this._win(),s=this._allElements=new WeakMap,i=this._tabster.focusable;let n=this._updateQueue=[];const o=w.createMutationObserver(_=>{for(const y of _){const F=y.target,I=y.removedNodes,C=y.addedNodes;if(y.type==="attributes")y.attributeName==="tabindex"&&n.push({element:F,type:qs});else{for(let N=0;N<I.length;N++)n.push({element:I[N],type:Ys});for(let N=0;N<C.length;N++)n.push({element:C[N],type:Is})}}h()}),l=(_,y)=>{var F,I;const C=s.get(_);C&&y&&((F=this._intersectionObserver)===null||F===void 0||F.unobserve(_),s.delete(_)),!C&&!y&&(s.set(_,this),(I=this._intersectionObserver)===null||I===void 0||I.observe(_))},a=_=>{const y=i.isFocusable(_);s.get(_)?y||l(_,!0):y&&l(_)},u=_=>{const{mover:y}=p(_);if(y&&y!==this)if(y.getElement()===_&&i.isFocusable(_))l(_);else return;const F=ht(t.document,_,I=>{const{mover:C,groupper:N}=p(I);if(C&&C!==this)return NodeFilter.FILTER_REJECT;const R=N?.getFirst(!0);return N&&N.getElement()!==I&&R&&R!==I?NodeFilter.FILTER_REJECT:(i.isFocusable(I)&&l(I),NodeFilter.FILTER_SKIP)});if(F)for(F.currentNode=_;F.nextNode(););},f=_=>{s.get(_)&&l(_,!0);for(let F=w.getFirstElementChild(_);F;F=w.getNextElementSibling(F))f(F)},h=()=>{!this._updateTimer&&n.length&&(this._updateTimer=t.setTimeout(()=>{delete this._updateTimer;for(const{element:_,type:y}of n)switch(y){case qs:a(_);break;case Is:u(_);break;case Ys:f(_);break}n=this._updateQueue=[]},0))},p=_=>{const y={};for(let F=_;F;F=w.getParentElement(F)){const I=V(this._tabster,F);if(I&&(I.groupper&&!y.groupper&&(y.groupper=I.groupper),I.mover)){y.mover=I.mover;break}}return y};n.push({element:e,type:Is}),h(),o.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=()=>{o.disconnect()}}getState(e){const t=ut(this._win,e);if(t in this._visible){const s=this._visible[t]||U.Invisible;return{isCurrent:this._current?this._current.get()===e:void 0,visibility:s}}}}function Ri(r,e,t,s,i,n,o,l){const a=t<i?i-t:o<r?r-o:0,u=s<n?n-s:l<e?e-l:0;return a===0?u:u===0?a:Math.sqrt(a*a+u*u)}class Ni{constructor(e,t){this._init=()=>{const s=this._win();s.addEventListener("keydown",this._onKeyDown,!0),s.addEventListener(H,this._onMoveFocus),s.addEventListener(we,this._onMemorizedElement),this._tabster.focusedElement.subscribe(this._onFocus)},this._onMoverDispose=s=>{delete this._movers[s.id]},this._onFocus=s=>{var i;let n=s,o=s;for(let l=w.getParentElement(s);l;l=w.getParentElement(l)){const a=(i=V(this._tabster,l))===null||i===void 0?void 0:i.mover;a&&(a.setCurrent(o),n=void 0),!n&&this._tabster.focusable.isFocusable(l)&&(n=o=l)}},this._onKeyDown=async s=>{var i;if(this._ignoredInputTimer&&(this._win().clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),(i=this._ignoredInputResolve)===null||i===void 0||i.call(this,!1),s.ctrlKey||s.altKey||s.shiftKey||s.metaKey)return;const n=s.key;let o;if(n===Ne.ArrowDown?o=Q.ArrowDown:n===Ne.ArrowRight?o=Q.ArrowRight:n===Ne.ArrowUp?o=Q.ArrowUp:n===Ne.ArrowLeft?o=Q.ArrowLeft:n===Ne.PageDown?o=Q.PageDown:n===Ne.PageUp?o=Q.PageUp:n===Ne.Home?o=Q.Home:n===Ne.End&&(o=Q.End),!o)return;const l=this._tabster.focusedElement.getFocusedElement();!l||await this._isIgnoredInput(l,n)||this._moveFocus(l,o,s)},this._onMoveFocus=s=>{var i;const n=s.composedPath()[0],o=(i=s.detail)===null||i===void 0?void 0:i.key;n&&o!==void 0&&!s.defaultPrevented&&(this._moveFocus(n,o),s.stopImmediatePropagation())},this._onMemorizedElement=s=>{var i;const n=s.composedPath()[0];let o=(i=s.detail)===null||i===void 0?void 0:i.memorizedElement;if(n){const l=A.getTabsterContext(this._tabster,n),a=l?.mover;a&&(o&&!w.nodeContains(a.getElement(),o)&&(o=void 0),a.setCurrent(o),s.stopImmediatePropagation())}},this._tabster=e,this._win=t,this._movers={},e.queueInit(this._init)}dispose(){var e;const t=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),(e=this._ignoredInputResolve)===null||e===void 0||e.call(this,!1),this._ignoredInputTimer&&(t.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener(H,this._onMoveFocus),t.removeEventListener(we,this._onMemorizedElement),Object.keys(this._movers).forEach(s=>{this._movers[s]&&(this._movers[s].dispose(),delete this._movers[s])})}createMover(e,t,s){const i=new Ii(this._tabster,e,this._onMoverDispose,t,s);return this._movers[i.id]=i,i}moveFocus(e,t){return this._moveFocus(e,t)}_moveFocus(e,t,s){var i,n;const o=this._tabster,l=A.getTabsterContext(o,e,{checkRtl:!0});if(!l||!l.mover||l.excludedFromMover||s&&l.ignoreKeydown(s))return null;const a=l.mover,u=a.getElement();if(l.groupperBeforeMover){const ee=l.groupper;if(ee&&!ee.isActive(!0)){for(let me=w.getParentElement(ee.getElement());me&&me!==u;me=w.getParentElement(me))if(!((n=(i=V(o,me))===null||i===void 0?void 0:i.groupper)===null||n===void 0)&&n.isActive(!0))return null}else return null}if(!u)return null;const f=o.focusable,h=a.getProps(),p=h.direction||Z.Both,_=p===Z.Both,y=_||p===Z.Vertical,F=_||p===Z.Horizontal,I=p===Z.GridLinear,C=I||p===Z.Grid,N=h.cyclic;let R,oe,re,ce=0,_e=0;if(C&&(re=e.getBoundingClientRect(),ce=Math.ceil(re.left),_e=Math.floor(re.right)),l.rtl&&(t===Q.ArrowRight?t=Q.ArrowLeft:t===Q.ArrowLeft&&(t=Q.ArrowRight)),t===Q.ArrowDown&&y||t===Q.ArrowRight&&(F||C))if(R=f.findNext({currentElement:e,container:u,useActiveModalizer:!0}),R&&C){const ee=Math.ceil(R.getBoundingClientRect().left);!I&&_e>ee&&(R=void 0)}else!R&&N&&(R=f.findFirst({container:u,useActiveModalizer:!0}));else if(t===Q.ArrowUp&&y||t===Q.ArrowLeft&&(F||C))if(R=f.findPrev({currentElement:e,container:u,useActiveModalizer:!0}),R&&C){const ee=Math.floor(R.getBoundingClientRect().right);!I&&ee>ce&&(R=void 0)}else!R&&N&&(R=f.findLast({container:u,useActiveModalizer:!0}));else if(t===Q.Home)C?f.findElement({container:u,currentElement:e,useActiveModalizer:!0,isBackward:!0,acceptCondition:ee=>{var me;if(!f.isFocusable(ee))return!1;const ke=Math.ceil((me=ee.getBoundingClientRect().left)!==null&&me!==void 0?me:0);return ee!==e&&ce<=ke?!0:(R=ee,!1)}}):R=f.findFirst({container:u,useActiveModalizer:!0});else if(t===Q.End)C?f.findElement({container:u,currentElement:e,useActiveModalizer:!0,acceptCondition:ee=>{var me;if(!f.isFocusable(ee))return!1;const ke=Math.ceil((me=ee.getBoundingClientRect().left)!==null&&me!==void 0?me:0);return ee!==e&&ce>=ke?!0:(R=ee,!1)}}):R=f.findLast({container:u,useActiveModalizer:!0});else if(t===Q.PageUp){if(f.findElement({currentElement:e,container:u,useActiveModalizer:!0,isBackward:!0,acceptCondition:ee=>f.isFocusable(ee)?St(this._win,ee,a.visibilityTolerance)?(R=ee,!1):!0:!1}),C&&R){const ee=Math.ceil(R.getBoundingClientRect().left);f.findElement({currentElement:R,container:u,useActiveModalizer:!0,acceptCondition:me=>{if(!f.isFocusable(me))return!1;const ke=Math.ceil(me.getBoundingClientRect().left);return ce<ke||ee>=ke?!0:(R=me,!1)}})}oe=!1}else if(t===Q.PageDown){if(f.findElement({currentElement:e,container:u,useActiveModalizer:!0,acceptCondition:ee=>f.isFocusable(ee)?St(this._win,ee,a.visibilityTolerance)?(R=ee,!1):!0:!1}),C&&R){const ee=Math.ceil(R.getBoundingClientRect().left);f.findElement({currentElement:R,container:u,useActiveModalizer:!0,isBackward:!0,acceptCondition:me=>{if(!f.isFocusable(me))return!1;const ke=Math.ceil(me.getBoundingClientRect().left);return ce>ke||ee<=ke?!0:(R=me,!1)}})}oe=!0}else if(C){const ee=t===Q.ArrowUp,me=ce,ke=Math.ceil(re.top),It=_e,Lt=Math.floor(re.bottom);let Ps,Ms,os=0;f.findAll({container:u,currentElement:e,isBackward:ee,onElement:Ls=>{const rs=Ls.getBoundingClientRect(),Ws=Math.ceil(rs.left),li=Math.ceil(rs.top),Us=Math.floor(rs.right),ai=Math.floor(rs.bottom);if(ee&&ke<ai||!ee&&Lt>li)return!0;const Bs=Math.ceil(Math.min(It,Us))-Math.floor(Math.max(me,Ws)),ci=Math.ceil(Math.min(It-me,Us-Ws));if(Bs>0&&ci>=Bs){const Wt=Bs/ci;Wt>os&&(Ps=Ls,os=Wt)}else if(os===0){const Wt=Ri(me,ke,It,Lt,Ws,li,Us,ai);(Ms===void 0||Wt<Ms)&&(Ms=Wt,Ps=Ls)}else if(os>0)return!1;return!0}}),R=Ps}return R&&(!s||s&&u.dispatchEvent(new Je({by:"mover",owner:u,next:R,relatedEvent:s})))?(oe!==void 0&&ys(this._win,R,oe),s&&(s.preventDefault(),s.stopImmediatePropagation()),(0,S.kG)(R),R):null}async _isIgnoredInput(e,t){if(e.getAttribute("aria-expanded")==="true"&&e.hasAttribute("aria-activedescendant"))return!0;if(Zt(e,Ci)){let s=0,i=0,n=0,o;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"){const l=e.type;if(n=(e.value||"").length,l==="email"||l==="number"){if(n){const u=w.getSelection(e);if(u){const f=u.toString().length,h=t===Ne.ArrowLeft||t===Ne.ArrowUp;if(u.modify("extend",h?"backward":"forward","character"),f!==u.toString().length)return u.modify("extend",h?"forward":"backward","character"),!0;n=0}}}else{const u=e.selectionStart;if(u===null)return l==="hidden";s=u||0,i=e.selectionEnd||0}}else e.contentEditable==="true"&&(o=new(qe(this._win))(l=>{this._ignoredInputResolve=_=>{delete this._ignoredInputResolve,l(_)};const a=this._win();this._ignoredInputTimer&&a.clearTimeout(this._ignoredInputTimer);const{anchorNode:u,focusNode:f,anchorOffset:h,focusOffset:p}=w.getSelection(e)||{};this._ignoredInputTimer=a.setTimeout(()=>{var _,y,F;delete this._ignoredInputTimer;const{anchorNode:I,focusNode:C,anchorOffset:N,focusOffset:R}=w.getSelection(e)||{};if(I!==u||C!==f||N!==h||R!==p){(_=this._ignoredInputResolve)===null||_===void 0||_.call(this,!1);return}if(s=N||0,i=R||0,n=((y=e.textContent)===null||y===void 0?void 0:y.length)||0,I&&C&&w.nodeContains(e,I)&&w.nodeContains(e,C)&&I!==e){let oe=!1;const re=ce=>{if(ce===I)oe=!0;else if(ce===C)return!0;const _e=ce.textContent;if(_e&&!w.getFirstChild(ce)){const me=_e.length;oe?C!==I&&(i+=me):(s+=me,i+=me)}let ee=!1;for(let me=w.getFirstChild(ce);me&&!ee;me=me.nextSibling)ee=re(me);return ee};re(e)}(F=this._ignoredInputResolve)===null||F===void 0||F.call(this,!0)},0)}));if(o&&!await o||s!==i||s>0&&(t===Ne.ArrowLeft||t===Ne.ArrowUp||t===Ne.Home)||s<n&&(t===Ne.ArrowRight||t===Ne.ArrowDown||t===Ne.End))return!0}return!1}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function Di(r,e,t,s){if(typeof MutationObserver>"u")return()=>{};const i=e.getWindow;let n;const o=f=>{var h,p,_,y,F;const I=new Set;for(const C of f){const N=C.target,R=C.removedNodes,oe=C.addedNodes;if(C.type==="attributes")C.attributeName===te&&(I.has(N)||t(e,N));else{for(let re=0;re<R.length;re++){const ce=R[re];I.add(ce),l(ce,!0),(p=(h=e._dummyObserver).domChanged)===null||p===void 0||p.call(h,N)}for(let re=0;re<oe.length;re++)l(oe[re]),(y=(_=e._dummyObserver).domChanged)===null||y===void 0||y.call(_,N)}}I.clear(),(F=e.modalizer)===null||F===void 0||F.hiddenUpdate()};function l(f,h){n||(n=tt(i).elementByUId),a(f,h);const p=ht(r,f,_=>a(_,h));if(p)for(;p.nextNode(););}function a(f,h){var p;if(!f.getAttribute)return NodeFilter.FILTER_SKIP;const _=f.__tabsterElementUID;return _&&n&&(h?delete n[_]:(p=n[_])!==null&&p!==void 0||(n[_]=new We(i,f))),(V(e,f)||f.hasAttribute(te))&&t(e,f,h),NodeFilter.FILTER_SKIP}const u=w.createMutationObserver(o);return s&&l(i().document.body),u.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[te]}),()=>{u.disconnect()}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const Qs=100;class xi extends Ae{constructor(e){super(),this._waiting={},this._lastRequestFocusId=0,this._observedById={},this._observedByName={},this._currentRequestTimestamp=0,this._onFocus=t=>{if(t){const s=this._currentRequest;s&&Date.now()-this._currentRequestTimestamp>=300&&(delete this._currentRequest,s.cancel())}},this.onObservedElementUpdate=t=>{var s;const i=(s=V(this._tabster,t))===null||s===void 0?void 0:s.observed,n=ut(this._win,t);let o=this._observedById[n];if(i&&ft(t.ownerDocument,t)){o||(o=this._observedById[n]={element:new We(this._win,t)}),i.names.sort();const l=i.names,a=o.prevNames;this._isObservedNamesUpdated(l,a)&&(a&&a.forEach(u=>{const f=this._observedByName[u];f&&f[n]&&(Object.keys(f).length>1?delete f[n]:delete this._observedByName[u])}),o.prevNames=l),l.forEach(u=>{let f=this._observedByName[u];f||(f=this._observedByName[u]={}),f[n]=o,this._waitConditional(u)})}else if(o){const l=o.prevNames;l&&l.forEach(a=>{const u=this._observedByName[a];u&&u[n]&&(Object.keys(u).length>1?delete u[n]:delete this._observedByName[a])}),delete this._observedById[n]}},this._tabster=e,this._win=e.getWindow,e.queueInit(()=>{this._tabster.focusedElement.subscribe(this._onFocus)})}dispose(){this._tabster.focusedElement.unsubscribe(this._onFocus);for(const e of Object.keys(this._waiting))this._rejectWaiting(e);this._observedById={},this._observedByName={}}_rejectWaiting(e,t){const s=this._waiting[e];if(s){const i=this._win();s.timer&&i.clearTimeout(s.timer),s.conditionTimer&&i.clearTimeout(s.conditionTimer),!t&&s.reject?s.reject():t&&s.resolve&&s.resolve(null),delete this._waiting[e]}}_isObservedNamesUpdated(e,t){if(!t||e.length!==t.length)return!0;for(let s=0;s<e.length;++s)if(e[s]!==t[s])return!0;return!1}getElement(e,t){const s=this._observedByName[e];if(s)for(const i of Object.keys(s)){let n=s[i].element.get()||null;return n?(t===B.Accessible&&!this._tabster.focusable.isAccessible(n)||t===B.Focusable&&!this._tabster.focusable.isFocusable(n,!0))&&(n=null):(delete s[i],delete this._observedById[i]),n}return null}waitElement(e,t,s){const i=this.getElement(e,s);if(i)return{result:qe(this._win).resolve(i),cancel:()=>{},status:$.Succeeded};let n;s===B.Accessible?n="a":s===B.Focusable?n="f":n="_";const o=n+e;let l=this._waiting[o];if(l&&l.request)return l.request;l=this._waiting[o]={timer:this._win().setTimeout(()=>{l.conditionTimer&&this._win().clearTimeout(l.conditionTimer),delete this._waiting[o],l.request&&(l.request.status=$.TimedOut),l.resolve&&l.resolve(null)},t)};const u={result:new(qe(this._win))((f,h)=>{l.resolve=f,l.reject=h}).catch(()=>null),cancel:()=>{u.status===$.Waiting&&(u.status=$.Canceled),this._rejectWaiting(o,!0)},status:$.Waiting};return l.request=u,s&&this.getElement(e)&&this._waitConditional(e),u}requestFocus(e,t,s){s===void 0&&(s={});const i=++this._lastRequestFocusId,n=this._currentRequest;n&&n.cancel();const o=this.waitElement(e,t,B.Focusable);this._currentRequest=o,this._currentRequestTimestamp=Date.now();const l={result:o.result.then(a=>this._lastRequestFocusId===i&&a?this._tabster.focusedElement.focus(a,!0,void 0,s.preventScroll):!1),cancel:()=>{o.cancel()},status:o.status};return o.result.finally(()=>{this._currentRequest===o&&delete this._currentRequest,l.status=o.status}),l}_waitConditional(e){const t="_"+e,s="a"+e,i="f"+e,n=this._waiting[t],o=this._waiting[s],l=this._waiting[i],a=this._win(),u=(f,h,p,_)=>{var y;const F=(y=V(this._tabster,f))===null||y===void 0?void 0:y.observed;!F||!F.names.includes(e)||(p.timer&&a.clearTimeout(p.timer),delete this._waiting[h],p.request&&(p.request.status=$.Succeeded),p.resolve&&p.resolve(f),this.trigger(f,{names:[e],details:F.details,accessibility:_}))};if(n){const f=this.getElement(e);f&&ft(f.ownerDocument,f)&&u(f,t,n,B.Any)}if(o&&!o.conditionTimer){const f=()=>{const h=this.getElement(e);h&&ft(h.ownerDocument,h)&&this._tabster.focusable.isAccessible(h)?u(h,s,o,B.Accessible):o.conditionTimer=a.setTimeout(f,Qs)};f()}if(l&&!l.conditionTimer){const f=()=>{const h=this.getElement(e);h&&ft(h.ownerDocument,h)&&this._tabster.focusable.isFocusable(h,!0)?u(h,i,l,B.Focusable):l.conditionTimer=a.setTimeout(f,Qs)};f()}}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const Rs={areaClass:"tabster-focus-outline-area",outlineClass:"tabster-focus-outline",outlineColor:"#ff4500",outlineWidth:2,zIndex:2147483647};let Ge=Rs;class Ns{constructor(e,t,s,i){this.left=e,this.top=t,this.right=s,this.bottom=i}equalsTo(e){return this.left===e.left&&this.top===e.top&&this.right===e.right&&this.bottom===e.bottom}clone(){return new Ns(this.left,this.top,this.right,this.bottom)}}class Ds{constructor(e){this._isVisible=!1,this._allOutlineElements=[],this._init=()=>{this._tabster.keyboardNavigation.subscribe(this._onKeyboardNavigationStateChanged),this._tabster.focusedElement.subscribe(this._onFocus);const t=this._win();t.addEventListener("scroll",this._onScroll,!0),this._fullScreenEventName&&t.document.addEventListener(this._fullScreenEventName,this._onFullScreenChanged)},this._onFullScreenChanged=t=>{if(!this._fullScreenElementName||!t.target)return;const s=t.target.body||t.target,i=this._getDOM(s);if(s.ownerDocument&&i){const n=s.ownerDocument[this._fullScreenElementName];n?(n.appendChild(i.container),this._fullScreenElement=n):(s.ownerDocument.body.appendChild(i.container),this._fullScreenElement=void 0)}},this._onKeyboardNavigationStateChanged=()=>{this._onFocus(this._tabster.focusedElement.getFocusedElement())},this._onFocus=t=>{!this._updateElement(t)&&this._isVisible&&this._setVisibility(!1)},this._onScroll=t=>{!this._outlinedElement||!Ds._isParentChild(t.target,this._outlinedElement)||(this._curPos=void 0,this._setOutlinePosition())},this._tabster=e,this._win=e.getWindow,e.queueInit(this._init),typeof document<"u"&&("onfullscreenchange"in document?(this._fullScreenEventName="fullscreenchange",this._fullScreenElementName="fullscreenElement"):"onwebkitfullscreenchange"in document?(this._fullScreenEventName="webkitfullscreenchange",this._fullScreenElementName="webkitFullscreenElement"):"onmozfullscreenchange"in document?(this._fullScreenEventName="mozfullscreenchange",this._fullScreenElementName="mozFullScreenElement"):"onmsfullscreenchange"in document&&(this._fullScreenEventName="msfullscreenchange",this._fullScreenElementName="msFullscreenElement"))}setup(e){Ge={...Ge,...e};const t=this._win();t.__tabsterOutline||(t.__tabsterOutline={}),t.__tabsterOutline.style||(t.__tabsterOutline.style=Xs(t.document,Ge)),!e||!e.areaClass?t.document.body.classList.add(Rs.areaClass):t.document.body.classList.remove(Rs.areaClass)}dispose(){const e=this._win();this._updateTimer&&(e.clearTimeout(this._updateTimer),this._updateTimer=void 0),this._tabster.keyboardNavigation.unsubscribe(this._onKeyboardNavigationStateChanged),this._tabster.focusedElement.unsubscribe(this._onFocus),e.removeEventListener("scroll",this._onScroll,!0),this._fullScreenEventName&&e.document.removeEventListener(this._fullScreenEventName,this._onFullScreenChanged),this._allOutlineElements.forEach(t=>this._removeDOM(t.container)),this._allOutlineElements=[],delete this._outlinedElement,delete this._curPos,delete this._curOutlineElements,delete this._fullScreenElement}_shouldShowCustomOutline(e){const t=V(this._tabster,e);if(t&&t.outline&&t.outline.isIgnored)return!1;for(let s=e;s;s=s.parentElement)if(s.classList&&s.classList.contains(Ge.areaClass))return!0;return!1}_updateElement(e){if(this._outlinedElement=void 0,this._updateTimer&&(this._win().clearTimeout(this._updateTimer),this._updateTimer=void 0),this._curPos=void 0,!this._tabster.keyboardNavigation.isNavigatingWithKeyboard())return!1;if(e){if(e.tagName==="INPUT"){if(!(e.type in{button:!0,checkbox:!0,file:!0,image:!0,radio:!0,range:!0,reset:!0,submit:!0}))return!1}else if(e.tagName==="TEXTAREA"||e.contentEditable==="true"||e.tagName==="IFRAME")return!1;return this._shouldShowCustomOutline(e)?(this._tabster.keyboardNavigation.isNavigatingWithKeyboard()&&(this._outlinedElement=e,this._updateOutline()),!0):!1}return!1}_updateOutline(){this._setOutlinePosition(),this._updateTimer&&(this._win().clearTimeout(this._updateTimer),this._updateTimer=void 0),this._outlinedElement&&(this._updateTimer=this._win().setTimeout(()=>{this._updateTimer=void 0,this._updateOutline()},30))}_setVisibility(e){this._isVisible=e,this._curOutlineElements&&(e?this._curOutlineElements.container.classList.add(`${Ge.outlineClass}_visible`):(this._curOutlineElements.container.classList.remove(`${Ge.outlineClass}_visible`),this._curPos=void 0))}_setOutlinePosition(){if(!this._outlinedElement)return;let e=_t(this._win,this._outlinedElement);const t=new Ns(e.left,e.top,e.right,e.bottom);if(this._curPos&&t.equalsTo(this._curPos))return;const s=this._getDOM(this._outlinedElement),i=this._outlinedElement.ownerDocument&&this._outlinedElement.ownerDocument.defaultView;if(!s||!i)return;this._curOutlineElements!==s&&(this._setVisibility(!1),this._curOutlineElements=s),this._curPos=t;const n=t.clone();let o=!1,l=!1;const a=s.container,u=a&&a.ownerDocument&&a.ownerDocument.scrollingElement;if(!u)return;for(let I=this._outlinedElement.parentElement;I&&I.nodeType===Node.ELEMENT_NODE&&I!==this._fullScreenElement;I=I.parentElement){e=_t(this._win,I);const C=I.ownerDocument&&I.ownerDocument.defaultView;if(!C)return;const N=C.getComputedStyle(I),R=N.position;R==="absolute"?o=!0:(R==="fixed"||R==="sticky")&&(l=!0),N.overflow!=="visible"&&(!o&&!l||N.overflow==="hidden")&&(e.left>n.left&&(n.left=e.left),e.top>n.top&&(n.top=e.top),e.right<n.right&&(n.right=e.right),e.bottom<n.bottom&&(n.bottom=e.bottom))}const f=_t(this._win,u),h=f.left+f.right,p=f.top+f.bottom,_=Ge.outlineWidth;n.left=n.left>_?n.left-_:0,n.top=n.top>_?n.top-_:0,n.right=n.right<h-_?n.right+_:h,n.bottom=n.bottom<p-_?n.bottom+_:p;const y=n.right-n.left,F=n.bottom-n.top;if(y>_*2&&F>_*2){const I=s.left,C=s.top,N=s.right,R=s.bottom,oe=this._fullScreenElement||l?0:i.pageXOffset,re=this._fullScreenElement||l?0:i.pageYOffset;a.style.position=l?"fixed":"absolute",a.style.background=Ge.outlineColor,I.style.width=N.style.width=C.style.height=R.style.height=Ge.outlineWidth+"px",I.style.left=C.style.left=R.style.left=n.left+oe+"px",N.style.left=n.left+oe+y-_+"px",I.style.top=N.style.top=C.style.top=n.top+re+"px",R.style.top=n.top+re+F-_+"px",I.style.height=N.style.height=F+"px",C.style.width=R.style.width=y+"px",this._setVisibility(!0)}else this._setVisibility(!1)}_getDOM(e){const t=e.ownerDocument,s=t&&t.defaultView;if(!(!t||!s||!s.__tabsterOutline)){if(s.__tabsterOutline.style||(s.__tabsterOutline.style=Xs(t,Ge)),!s.__tabsterOutline.elements){const i={container:t.createElement("div"),left:t.createElement("div"),top:t.createElement("div"),right:t.createElement("div"),bottom:t.createElement("div")};i.container.className=Ge.outlineClass,i.left.className=`${Ge.outlineClass}__left`,i.top.className=`${Ge.outlineClass}__top`,i.right.className=`${Ge.outlineClass}__right`,i.bottom.className=`${Ge.outlineClass}__bottom`,i.container.appendChild(i.left),i.container.appendChild(i.top),i.container.appendChild(i.right),i.container.appendChild(i.bottom),t.body.appendChild(i.container),s.__tabsterOutline.elements=i,this._allOutlineElements.push(i)}return s.__tabsterOutline.elements}}_removeDOM(e){const t=e.ownerDocument&&e.ownerDocument.defaultView,s=t&&t.__tabsterOutline;if(!s)return;s.style&&s.style.parentNode&&(s.style.parentNode.removeChild(s.style),delete s.style);const i=s&&s.elements;i&&(i.container.parentNode&&i.container.parentNode.removeChild(i.container),delete s.elements)}static _isParentChild(e,t){return t===e||!!(e.compareDocumentPosition(t)&document.DOCUMENT_POSITION_CONTAINED_BY)}}function Xs(r,e){const t=r.createElement("style");return t.type="text/css",t.appendChild(r.createTextNode(Ai(e))),r.head.appendChild(t),t}function Ai(r){return`
.${r.areaClass} *, .${r.areaClass} *:focus {
outline: none !important;
}

.${r.outlineClass} {
display: none;
position: absolute;
width: 0;
height: 0;
left: 0;
top: 0;
z-index: ${r.zIndex};
}

.${r.outlineClass}.${r.outlineClass}_visible {
display: block;
}

.${r.outlineClass}__left,
.${r.outlineClass}__top,
.${r.outlineClass}__right,
.${r.outlineClass}__bottom {
position: absolute;
background: inherit;
}`}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Si{constructor(e){this._isUncontrolledCompletely=e}isUncontrolledCompletely(e,t){var s;const i=(s=this._isUncontrolledCompletely)===null||s===void 0?void 0:s.call(this,e,t);return i===void 0?t:i}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class ki extends mt{constructor(e,t,s){var i;if(super(e,t,s),this._hasFocus=!1,this._onFocusOut=n=>{var o;const l=(o=this._element)===null||o===void 0?void 0:o.get();l&&n.relatedTarget===null&&l.dispatchEvent(new Be),l&&!w.nodeContains(l,n.relatedTarget)&&(this._hasFocus=!1)},this._onFocusIn=()=>{this._hasFocus=!0},this._props.type===Y.Source){const n=(i=this._element)===null||i===void 0?void 0:i.get();n?.addEventListener("focusout",this._onFocusOut),n?.addEventListener("focusin",this._onFocusIn),this._hasFocus=w.nodeContains(n,n&&w.getActiveElement(n.ownerDocument))}}dispose(){var e;if(this._props.type===Y.Source){const t=(e=this._element)===null||e===void 0?void 0:e.get();t?.removeEventListener("focusout",this._onFocusOut),t?.removeEventListener("focusin",this._onFocusIn),this._hasFocus&&this._tabster.getWindow().document.body.dispatchEvent(new Be)}}}class ts{constructor(e){this._stack=[],this._getWindow=e}push(e){var t;((t=this._stack[this._stack.length-1])===null||t===void 0?void 0:t.get())!==e&&(this._stack.length>ts.DEPTH&&this._stack.shift(),this._stack.push(new We(this._getWindow,e)))}pop(e){e===void 0&&(e=()=>!0);var t;const s=this._getWindow().document;for(let i=this._stack.length-1;i>=0;i--){const n=(t=this._stack.pop())===null||t===void 0?void 0:t.get();if(n&&w.nodeContains(s.body,w.getParentElement(n))&&e(n))return n}}}ts.DEPTH=10;class Pi{constructor(e){this._onRestoreFocus=t=>{var s,i;this._focusedElementState.cancelAsyncFocus(x.Restorer);const n=t.composedPath()[0];if(n){const o=(i=(s=V(this._tabster,n))===null||s===void 0?void 0:s.restorer)===null||i===void 0?void 0:i.getProps().id;this._focusedElementState.requestAsyncFocus(x.Restorer,()=>this._restoreFocus(n,o),0)}},this._onFocusIn=t=>{var s;if(!t)return;const i=V(this._tabster,t);((s=i?.restorer)===null||s===void 0?void 0:s.getProps().type)===Y.Target&&this._history.push(t)},this._restoreFocus=(t,s)=>{var i;const n=this._getWindow().document;if(w.getActiveElement(n)!==n.body||!this._keyboardNavState.isNavigatingWithKeyboard()&&w.nodeContains(n.body,t))return;const o=l=>{var a,u;const f=(u=(a=V(this._tabster,l))===null||a===void 0?void 0:a.restorer)===null||u===void 0?void 0:u.getProps();return f?f.id:null};(i=this._history.pop(l=>s===o(l)))===null||i===void 0||i.focus()},this._tabster=e,this._getWindow=e.getWindow,this._getWindow().addEventListener($e,this._onRestoreFocus),this._history=new ts(this._getWindow),this._keyboardNavState=e.keyboardNavigation,this._focusedElementState=e.focusedElement,this._focusedElementState.subscribe(this._onFocusIn)}dispose(){const e=this._getWindow();this._focusedElementState.unsubscribe(this._onFocusIn),this._focusedElementState.cancelAsyncFocus(x.Restorer),e.removeEventListener($e,this._onRestoreFocus)}createRestorer(e,t){const s=new ki(this._tabster,e,t);return t.type===Y.Target&&w.getActiveElement(e.ownerDocument)===e&&this._history.push(e),s}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function Mi(r){var e;let t=r.activeElement;for(;!((e=t?.shadowRoot)===null||e===void 0)&&e.activeElement;)t=t.shadowRoot.activeElement;return t}function xs(r,e){var t,s;if(!r||!e)return!1;let i=e;for(;i;){if(i===r)return!0;typeof i.assignedElements!="function"&&(!((t=i.assignedSlot)===null||t===void 0)&&t.parentNode)?i=(s=i.assignedSlot)===null||s===void 0?void 0:s.parentNode:i.nodeType===document.DOCUMENT_FRAGMENT_NODE?i=i.host:i=i.parentNode}return!1}function As(r){return r?r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host?r.host:r.parentNode:null}function Li(r){for(let e=As(r);e;e=As(e))if(e.nodeType===Node.ELEMENT_NODE)return e;return null}function Ss(r){if(!r)return null;if(r.shadowRoot){const e=Ss(r.shadowRoot);if(e)return e}return r.firstChild}function ss(r){return r?!r.lastChild&&r.shadowRoot?ss(r.shadowRoot):r.lastChild:null}function is(r){return r?.nextSibling||null}function ns(r){var e;if(!r)return null;let t=r.previousSibling;return!t&&(!((e=r.parentElement)===null||e===void 0)&&e.shadowRoot)&&(t=ss(r.parentElement.shadowRoot)),t}function Wi(r){let e=Ss(r);for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=is(e);return e}function ks(r){let e=ss(r);for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=ns(e);return e}function Ui(r){let e=is(r);for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=is(e);return e}function Bi(r){let e=ns(r);for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=ns(e);return e}function zi(r,e){const t=r.shadowRoot;return t?t.appendChild(e):r.appendChild(e)}function Ki(r,e,t){const s=r.shadowRoot;return s?s.insertBefore(e,t):r.insertBefore(e,t)}function Hi(r){var e;const t=(e=r.ownerDocument)===null||e===void 0?void 0:e.defaultView;if(!t)return null;for(let s=r;s;s=s.parentNode)if(s.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const i=s;if(i.getSelection)return i.getSelection()||null;break}return t.getSelection()||null}function Vi(r,e){for(let t=r;t;t=t.parentNode)if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return t.querySelectorAll(`[name=${e}]`);return r.ownerDocument.getElementsByName(e)}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function ji(r){let e=null;for(let t=ks(r);t;t=ks(t))e=t;return e||void 0}class Gi{constructor(e,t,s,i){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=o=>{var l;if(o.nodeType===Node.ELEMENT_NODE){const a=o.shadowRoot;if(a){const u=this._doc.createTreeWalker(a,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(u),NodeFilter.FILTER_ACCEPT}else{if(typeof this.filter=="function")return this.filter(o);if(!((l=this.filter)===null||l===void 0)&&l.acceptNode)return this.filter.acceptNode(o);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=e,this.root=t,this.filter=i??null,this.whatToShow=s??NodeFilter.SHOW_ALL,this._currentNode=t,this._walkerStack.unshift(e.createTreeWalker(t,s,this._acceptNode));const n=t.shadowRoot;if(n){const o=this._doc.createTreeWalker(n,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(o)}}get currentNode(){return this._currentNode}set currentNode(e){if(!xs(this.root,e))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const t=[];let s=e,i=e;for(this._currentNode=e;s&&s!==this.root;)if(s.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const o=s,l=this._doc.createTreeWalker(o,this.whatToShow,{acceptNode:this._acceptNode});t.push(l),l.currentNode=i,this._currentSetFor.add(l),s=i=o.host}else s=s.parentNode;const n=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});t.push(n),n.currentNode=i,this._currentSetFor.add(n),this._walkerStack=t}firstChild(){return null}lastChild(){return null}nextNode(){var e;const t=this._walkerStack[0].nextNode();if(t){if(t.shadowRoot){let i;return typeof this.filter=="function"?i=this.filter(t):!((e=this.filter)===null||e===void 0)&&e.acceptNode&&(i=this.filter.acceptNode(t)),i===NodeFilter.FILTER_ACCEPT?t:this.nextNode()}return t}else return this._walkerStack.length>1?(this._walkerStack.shift(),this.nextNode()):null}previousNode(){var e,t;const s=this._walkerStack[0];if(s.currentNode===s.root){if(this._currentSetFor.has(s))return this._currentSetFor.delete(s),this._walkerStack.length>1?(this._walkerStack.shift(),this.previousNode()):null;const n=ji(s.root);if(n){s.currentNode=n;let o;if(typeof this.filter=="function"?o=this.filter(n):!((e=this.filter)===null||e===void 0)&&e.acceptNode&&(o=this.filter.acceptNode(n)),o===NodeFilter.FILTER_ACCEPT)return n}}const i=s.previousNode();if(i){if(i.shadowRoot){let o;return typeof this.filter=="function"?o=this.filter(i):!((t=this.filter)===null||t===void 0)&&t.acceptNode&&(o=this.filter.acceptNode(i)),o===NodeFilter.FILTER_ACCEPT?i:this.previousNode()}return i}else return this._walkerStack.length>1?(this._walkerStack.shift(),this.previousNode()):null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}}function $i(r,e,t,s){return new Gi(r,e,t,s)}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class wt{static _overrideAttachShadow(e){const t=e.Element.prototype.attachShadow;t.__origAttachShadow||(Element.prototype.attachShadow=function(s){const i=t.call(this,s);for(const n of wt._shadowObservers)n._addSubObserver(i);return i},Element.prototype.attachShadow.__origAttachShadow=t)}constructor(e){this._isObserving=!1,this._callbackWrapper=(t,s)=>{for(const i of t)if(i.type==="childList"){const n=i.removedNodes,o=i.addedNodes;for(let l=0;l<n.length;l++)this._walkShadows(n[l],!0);for(let l=0;l<o.length;l++)this._walkShadows(o[l])}this._callback(t,s)},this._callback=e,this._observer=new MutationObserver(this._callbackWrapper),this._subObservers=new Map}_addSubObserver(e){if(!(!this._options||!this._callback||this._subObservers.has(e))&&this._options.subtree&&xs(this._root,e)){const t=new MutationObserver(this._callbackWrapper);this._subObservers.set(e,t),this._isObserving&&t.observe(e,this._options),this._walkShadows(e)}}disconnect(){this._isObserving=!1,delete this._options,wt._shadowObservers.delete(this);for(const e of this._subObservers.values())e.disconnect();this._subObservers.clear(),this._observer.disconnect()}observe(e,t){const s=e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument,i=s?.defaultView;!s||!i||(wt._overrideAttachShadow(i),wt._shadowObservers.add(this),this._root=e,this._options=t,this._isObserving=!0,this._observer.observe(e,t),this._walkShadows(e))}_walkShadows(e,t){const s=e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument;if(!s)return;if(e===s)e=s.body;else{const n=e.shadowRoot;if(n){this._addSubObserver(n);return}}s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{if(n.nodeType===Node.ELEMENT_NODE)if(t){const o=this._subObservers.get(n);o&&(o.disconnect(),this._subObservers.delete(n))}else{const o=n.shadowRoot;o&&this._addSubObserver(o)}return NodeFilter.FILTER_SKIP}}).nextNode()}takeRecords(){const e=this._observer.takeRecords();for(const t of this._subObservers.values())e.push(...t.takeRecords());return e}}wt._shadowObservers=new Set;function qi(r){return new wt(r)}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function Js(r,e,t){const s=[];return i(r,e),s;function i(n,o){let l=null;document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:u=>{if(u.nodeType===Node.ELEMENT_NODE){if(u.matches(o))return l=u,s.push(l),t?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT;const f=u.shadowRoot;if(f)return i(f,o),!t&&s.length?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP}}).nextNode()}}function Yi(r,e){return Js(r,e,!0)}function Zs(r,e){return Js(r,e,!1)[0]||null}function Qi(r,e){return Zs(r,"#"+e)}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */var Xi=Object.freeze({__proto__:null,appendChild:zi,createMutationObserver:qi,createTreeWalker:$i,getActiveElement:Mi,getElementById:Qi,getElementsByName:Vi,getFirstChild:Ss,getFirstElementChild:Wi,getLastChild:ss,getLastElementChild:ks,getNextElementSibling:Ui,getNextSibling:is,getParentElement:Li,getParentNode:As,getPreviousElementSibling:Bi,getPreviousSibling:ns,getSelection:Hi,insertBefore:Ki,nodeContains:xs,querySelector:Zs,querySelectorAll:Yi});/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Ji{constructor(e){this.keyboardNavigation=e.keyboardNavigation,this.focusedElement=e.focusedElement,this.focusable=e.focusable,this.root=e.root,this.uncontrolled=e.uncontrolled,this.core=e}}class Zi{constructor(e,t){var s,i;this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="8.5.6",this._noop=!1,this.getWindow=()=>{if(!this._win)throw new Error("Using disposed Tabster.");return this._win},this._storage=ps(e),this._win=e;const n=this.getWindow;t?.DOMAPI&&ct({...t.DOMAPI}),this.keyboardNavigation=new yi(n),this.focusedElement=new De(this,n),this.focusable=new mi(this),this.root=new A(this,t?.autoRoot),this.uncontrolled=new Si(t?.checkUncontrolledCompletely||t?.checkUncontrolledTrappingFocus),this.controlTab=(s=t?.controlTab)!==null&&s!==void 0?s:!0,this.rootDummyInputs=!!t?.rootDummyInputs,this._dummyObserver=new d(n),this.getParent=(i=t?.getParent)!==null&&i!==void 0?i:w.getParentNode,this.internal={stopObserver:()=>{this._unobserve&&(this._unobserve(),delete this._unobserve)},resumeObserver:o=>{if(!this._unobserve){const l=n().document;this._unobserve=Di(l,this,O,o)}}},Qt(n),this.queueInit(()=>{this.internal.resumeObserver(!0)})}_mergeProps(e){var t;e&&(this.getParent=(t=e.getParent)!==null&&t!==void 0?t:this.getParent)}createTabster(e,t){const s=new Ji(this);return e||this._wrappers.add(s),this._mergeProps(t),s}disposeTabster(e,t){t?this._wrappers.clear():this._wrappers.delete(e),this._wrappers.size===0&&this.dispose()}dispose(){var e,t,s,i,n,o,l,a;this.internal.stopObserver();const u=this._win;u?.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],u&&this._forgetMemorizedTimer&&(u.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),(e=this.outline)===null||e===void 0||e.dispose(),(t=this.crossOrigin)===null||t===void 0||t.dispose(),(s=this.deloser)===null||s===void 0||s.dispose(),(i=this.groupper)===null||i===void 0||i.dispose(),(n=this.mover)===null||n===void 0||n.dispose(),(o=this.modalizer)===null||o===void 0||o.dispose(),(l=this.observedElement)===null||l===void 0||l.dispose(),(a=this.restorer)===null||a===void 0||a.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),bs(this.getWindow),Jt(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),u&&(vs(u),delete u.__tabsterInstance,delete this._win)}storageEntry(e,t){const s=this._storage;let i=s.get(e);return i?t===!1&&Object.keys(i).length===0&&s.delete(e):t===!0&&(i={},s.set(e,i)),i}forceCleanup(){this._win&&(this._forgetMemorizedElements.push(this._win.document.body),!this._forgetMemorizedTimer&&(this._forgetMemorizedTimer=this._win.setTimeout(()=>{delete this._forgetMemorizedTimer;for(let e=this._forgetMemorizedElements.shift();e;e=this._forgetMemorizedElements.shift())Jt(this.getWindow,e),De.forgetMemorized(this.focusedElement,e)},0),Yt(this.getWindow,!0)))}queueInit(e){var t;this._win&&(this._initQueue.push(e),this._initTimer||(this._initTimer=(t=this._win)===null||t===void 0?void 0:t.setTimeout(()=>{delete this._initTimer,this.drainInitQueue()},0)))}drainInitQueue(){if(!this._win)return;const e=this._initQueue;this._initQueue=[],e.forEach(t=>t())}}function an(r){r.core.forceCleanup()}function en(r,e){let t=ri(r);return t?t.createTabster(!1,e):(t=new Zi(r,e),r.__tabsterInstance=t,t.createTabster())}function cn(r){const e=ri(r);return e?e.createTabster(!0):null}function un(){return Xi}function ei(r){const e=r.core;return e.groupper||(e.groupper=new bi(e,e.getWindow)),e.groupper}function ti(r){const e=r.core;return e.mover||(e.mover=new Ni(e,e.getWindow)),e.mover}function si(r){const e=r.core;return e.outline||(e.outline=new Ds(e)),e.outline}function ii(r,e){const t=r.core;return t.deloser||(t.deloser=new Ee(t,e)),t.deloser}function ni(r,e,t){const s=r.core;return s.modalizer||(s.modalizer=new Fi(s,e,t)),s.modalizer}function oi(r){const e=r.core;return e.observedElement||(e.observedElement=new xi(e)),e.observedElement}function tn(r){const e=r.core;return e.crossOrigin||(ii(r),ni(r),ti(r),ei(r),si(r),oi(r),e.crossOrigin=new hi(e)),e.crossOrigin}function dn(r){return r.core.internal}function sn(r){const e=r.core;return e.restorer||(e.restorer=new Pi(e)),e.restorer}function nn(r,e){r.core.disposeTabster(r,e)}function ri(r){return r.__tabsterInstance}function on(r,e){const t=r.core;if(t._noop!==e){t._noop=e;const s=l=>(l.getAttribute&&(V(t,l)||l.hasAttribute(te))&&O(t,l),NodeFilter.FILTER_SKIP),i=t.getWindow().document,n=i.body;s(n);const o=ht(i,n,s);if(o)for(;o.nextNode(););}}function fn(r){return r._noop}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */var hn=Object.freeze({__proto__:null});/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */var _n=Object.freeze({__proto__:null});/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function mn(r,e){return r.dispatchEvent(new zt({action:e}))}function gn(r,e){return r.dispatchEvent(new Bt({key:e}))}function vn(r,e){return r.dispatchEvent(new cs({memorizedElement:e}))}}}]);

//# sourceMappingURL=https://local.teams.office.com/sourcemaps/hashed-assets/125442-55f2506dd6fb3887.js.map